{"categories":[{"title":"css","uri":"https://zecoo.github.io/hugo/categories/css/"},{"title":"hello-world","uri":"https://zecoo.github.io/hugo/categories/hello-world/"},{"title":"hugo","uri":"https://zecoo.github.io/hugo/categories/hugo/"},{"title":"istio","uri":"https://zecoo.github.io/hugo/categories/istio/"},{"title":"js","uri":"https://zecoo.github.io/hugo/categories/js/"},{"title":"k8s","uri":"https://zecoo.github.io/hugo/categories/k8s/"},{"title":"math","uri":"https://zecoo.github.io/hugo/categories/math/"},{"title":"prom","uri":"https://zecoo.github.io/hugo/categories/prom/"},{"title":"server","uri":"https://zecoo.github.io/hugo/categories/server/"}],"posts":[{"content":" æˆ‘å¾ˆå‚»çš„ï¼Œæ¯æ¬¡æ›´æ–°åšå®¢ä¹‹åéƒ½è¦æ‰‹åŠ¨è¾“å…¥\nhugo -D git add . git commit -m \u0026quot;xxx\u0026quot; git push origin master  åˆä¸æƒ³ä¸‹è½½gitå®¢æˆ·ç«¯ä¸€é”®pushï¼Œå†™ä¸ªè„šæœ¬å’¯\nhugo -D git add . read -p \u0026quot;input commit info:\\n\u0026quot; commit git commit -m \u0026quot;$commit\u0026quot; git push origin master  å‚è€ƒ https://www.cnblogs.com/gossip/p/5948398.html ï¼ˆshellæ¥æ”¶é”®ç›˜è¾“å…¥ï¼‰\n","id":0,"section":"posts","summary":"æˆ‘å¾ˆå‚»çš„ï¼Œæ¯æ¬¡æ›´æ–°åšå®¢ä¹‹åéƒ½è¦æ‰‹åŠ¨è¾“å…¥ hugo -D git add . git commit -m \u0026quot;xxx\u0026quot; git push origin master åˆä¸æƒ³ä¸‹è½½gitå®¢æˆ·ç«¯ä¸€é”®pushï¼Œå†™ä¸ªè„šæœ¬å’¯ hugo -D git add . read -p \u0026quot;input commit info:\\n\u0026quot; commit git commit -m \u0026quot;$commit\u0026quot;","tags":["hugo","bash"],"title":"hugoä¸Šä¼ åšå®¢è„šæœ¬","uri":"https://zecoo.github.io/hugo/2020/05/hugo%E4%B8%8A%E4%BC%A0%E5%8D%9A%E5%AE%A2%E8%84%9A%E6%9C%AC/","year":"2020"},{"content":" export PS1=\u0026quot;\\[\\033[33m\\]\\u\\[\\033[0m\\]@\\[\\033[36m\\]k8s\\[\\033[0m\\]:\\[\\033[32m\\]\\W \\[\\033[0m\\]$ \u0026quot;  ä½†æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œè¾“äº†å‘½ä»¤å‘½ä»¤è¡Œå‰ç¼€æ˜¯å˜å¥½çœ‹äº†ï¼Œä½†æ˜¯ä¸€æ—¦é€€å‡ºå°±æ²¡æœ‰æ•ˆæœäº†ã€‚è¦æŠŠè¿™ä¸ªè®¾ç½®å†™è¿›æ–‡ä»¶é‡Œæ‰è¡Œã€‚å…·ä½“æ˜¯$HOME/.bashrcè¿™ä¸ªæ–‡ä»¶ï¼Œè¿™æ ·å°±OKå•¦ã€‚\n# .bashrc # User specific aliases and functions alias rm='rm -i' alias cp='cp -i' alias mv='mv -i' # Source global definitions if [ -f /etc/bashrc ]; then . /etc/bashrc export PS1=\u0026quot;\\[\\033[33m\\]\\u\\[\\033[0m\\]@\\[\\033[36m\\]k8s\\[\\033[0m\\]:\\[\\033[32m\\]\\W \\[\\033[0m\\]$ \u0026quot; fi  vimä¹Ÿå¯ä»¥ç¾åŒ–ä¸€ä¸‹\n# vim æ˜¾ç¤ºè¡Œå· cat \u0026lt;\u0026lt;EOF \u0026gt; ~/.vimrc set nu EOF  å‚è€ƒ https://learnku.com/articles/29209 ï¼ˆsshç‚«é…·UIï¼‰\nhttps://blog.csdn.net/yelangjueqi/article/details/45556657 ï¼ˆä¿®æ”¹.bashrcæ–‡ä»¶ï¼‰\n","id":1,"section":"posts","summary":"export PS1=\u0026quot;\\[\\033[33m\\]\\u\\[\\033[0m\\]@\\[\\033[36m\\]k8s\\[\\033[0m\\]:\\[\\033[32m\\]\\W \\[\\033[0m\\]$ \u0026quot; ä½†æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œè¾“äº†å‘½ä»¤å‘½ä»¤è¡Œå‰ç¼€æ˜¯å˜å¥½çœ‹äº†ï¼Œä½†æ˜¯ä¸€æ—¦é€€å‡ºå°±æ²¡æœ‰æ•ˆæœäº†ã€‚è¦æŠŠè¿™ä¸ªè®¾ç½®å†™è¿›æ–‡ä»¶é‡Œæ‰è¡Œã€‚å…·ä½“æ˜¯$HOME/.bashrcè¿™","tags":["server"],"title":"æœåŠ¡å™¨å‘½ä»¤è¡Œç¾åŒ–","uri":"https://zecoo.github.io/hugo/2020/05/%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%BE%8E%E5%8C%96/","year":"2020"},{"content":"hugo new theme zik-theme  å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ä¸»é¢˜ã€‚è‡ªå·±çš„ä¸»é¢˜å°±æ˜¯ä»è¿™é‡Œå¼€å§‹ã€‚æ¥çœ‹çœ‹åˆå§‹çš„themeç›®å½•é•¿ä»€ä¹ˆæ ·å§ã€‚\nâ”œâ”€â”€ LICENSE â”œâ”€â”€ archetypes â”‚Â â””â”€â”€ default.md â”œâ”€â”€ layouts â”‚Â â”œâ”€â”€ 404.html â”‚Â â”œâ”€â”€ _default â”‚Â â”‚Â â”œâ”€â”€ baseof.html â”‚Â â”‚Â â”œâ”€â”€ list.html â”‚Â â”‚Â â””â”€â”€ single.html â”‚Â â”œâ”€â”€ index.html â”‚Â â””â”€â”€ partials â”‚Â â”œâ”€â”€ footer.html â”‚Â â”œâ”€â”€ head.html â”‚Â â””â”€â”€ header.html â”œâ”€â”€ static â”‚Â â”œâ”€â”€ css â”‚Â â””â”€â”€ js â””â”€â”€ theme.toml  ","id":2,"section":"posts","summary":"hugo new theme zik-theme å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ä¸»é¢˜ã€‚è‡ªå·±çš„ä¸»é¢˜å°±æ˜¯ä»è¿™é‡Œå¼€å§‹ã€‚æ¥çœ‹çœ‹åˆå§‹çš„themeç›®å½•é•¿ä»€ä¹ˆæ ·å§ã€‚ â”œâ”€â”€ LICENSE â”œâ”€â”€ archetypes â”‚ â””â”€â”€ default.md â”œâ”€â”€ layouts â”‚ â”œâ”€â”€ 404.html â”‚","tags":["hugo"],"title":"hugo tutorial","uri":"https://zecoo.github.io/hugo/2020/05/hugo-tutorial/","year":"2020"},{"content":" æ–°å‘å“¦ï½\n5å¤©éƒ½æ²¡æœ‰è§£å†³çš„æ–°å‘å“¦ï½\nç¯å¢ƒï¼š  åä¸ºäº‘å­¦ç”Ÿæœº2c4g é²²é¹é€šç”¨è®¡ç®—å¢å¼ºå‹ | kc1.large.2 | 2vCPUs | 4GB  é”™è¯¯ kubeadm init åå¡åœ¨ï¼š\n[wait-control-plane] Waiting for the kubelet to boot up the control plane as static Pods from directory \u0026quot;/etc/kubernetes/manifests\u0026quot;. This can take up to 4m0s [kubelet-check] Initial timeout of 40s passed.  ç„¶åæŒ‰ç…§æç¤ºæŸ¥çœ‹kubeletçš„æ—¥å¿—ï¼Œæ˜¾ç¤ºâ€œnode xxx not foundâ€\nnode \u0026quot;ecs-kc1-large-2-linux-20200511105949\u0026quot; not found Container \u0026quot;408a5e9f9958dd3919cecf4a944a25ce30582bc638d657fc065fec8c56579f2a\u0026quot; not found in pod's containers k8s.io/kubernetes/pkg/kubelet/kubelet.go:453: Failed to list *v1.Node: Get https://192.168.0.214:6443/api/v1/nodes?fieldSelector=metadata.name%3Decs-kc1-large-2-linux-20200511105949\u0026amp;limit=500\u0026amp;resourceVersion=0: dial tcp 192.168.0.214:6443: connect: connection refused  çœ‹åˆ°æœ€å…³é”®çš„äº†å—ï¼Ÿdial tcp 192.168.0.214:6443: connect: connection refusedï¼Œè¿™ä¸ªé—®é¢˜å¾ˆå…³é”®ï¼Œä½†æ˜¯ç½‘ä¸Šæ²¡æœ‰åˆé€‚çš„è§£ç­”ã€‚connection refusedï¼Œå…¶å®å°±æ˜¯â€œnode not foundâ€\nå†çœ‹çœ‹dockerå®¹å™¨çš„è¿è¡Œæƒ…å†µï¼Œå‘ç°k8sæ‰€æœ‰ç»„ä»¶çš„å®¹å™¨éƒ½åˆ›å»ºå¤±è´¥ï¼Œå¤„äºExitedçŠ¶æ€ã€‚kubeletå°±è¿™æ ·åˆ›å»ºå¤±è´¥ç»§ç»­åˆ›å»ºï¼Œé™·å…¥å¾ªç¯å½“ä¸­ã€‚\nk8s_POD_etcd\tExited (1) Less than a second ago k8s_POD_kube-controller-manager\tExited (1) Less than a second ago k8s_POD_kube-scheduler\tExited (1) Less than a second ago k8s_POD_etcd\tExited (1) Less than a second ago k8s_POD_kube-controller-manager\tExited (1) 1 second ago  å”®å ç»™åä¸ºå”®åä¹Ÿæäº†å·¥å•ï¼Œæœ€åå¾—åˆ°çš„ç»“æœæ˜¯åä¸ºé²²é¹æœåŠ¡å™¨æ˜¯armæ¶æ„ï¼Œå¹¶ä¸”åä¸ºåœ¨ä¸Šé¢åšäº†è‡ªç ”ï¼Œåº•å±‚æ¶æ„å’Œamdå·®åˆ«è¿˜æ˜¯æŒºå¤§çš„ã€‚æ‰€ä»¥å¯¹äºä¸€äº›å¤§å‹åº”ç”¨å¯èƒ½è¿˜æ²¡æœ‰é€‚é…ã€‚æš—ç¤ºk8sé€‚é…è¿˜è¦å¾ˆä¹…ã€‚\nè¿™å‘å°±ä¸å¡«äº†ã€‚ä¿ºæ¢å°æœåŠ¡å™¨å°±æ˜¯äº†ã€‚\nä¸è¿‡æ•´ä½“çš„ä½“éªŒè¿˜æ˜¯æŒºå¥½çš„ï¼Œä»æå”®åå·¥å•åˆ°å”®åé‚®ä»¶å›å¤ã€ç”µè¯å›è®¿éƒ½åšå¾—æŒºå¥½çš„ã€‚æ‰“å®¢æœç”µè¯é€€è®¢ä¹Ÿå¾ˆçƒ­å¿ƒå‘Šè¯‰æˆ‘åˆ°å“ªé‡Œé€€è®¢ã€‚\næˆ‘ç”¨äº†10å¤©å·¦å³å§ï¼Œæ‰‹ç»­è´¹20ï¼Œè´¹ç”¨æ˜¯5å—ã€‚æœ€åèƒ½é€€ç»™æˆ‘175å—ã€‚è¿˜ç®—OKï¼ŒæŸå¤±ä¸å¤§ã€‚\n","id":3,"section":"posts","summary":"æ–°å‘å“¦ï½ 5å¤©éƒ½æ²¡æœ‰è§£å†³çš„æ–°å‘å“¦ï½ ç¯å¢ƒï¼š åä¸ºäº‘å­¦ç”Ÿæœº2c4g é²²é¹é€šç”¨è®¡ç®—å¢å¼ºå‹ | kc1.large.2 | 2vCPUs | 4GB é”™è¯¯ kubeadm init åå¡åœ¨ï¼š [wait-control-plane] Waiting for the kubelet to boot up the control plane as static Pods from directory \u0026quot;/etc/kubernetes/manifests\u0026quot;. This","tags":["k8s","kubeadm"],"title":"Kubeadm init node not found","uri":"https://zecoo.github.io/hugo/2020/05/kubeadm-init-node-not-found/","year":"2020"},{"content":" æ–¹æ³•ï¼šç”¨hightlight.jsåšé«˜äº®ã€‚\né’ˆå¯¹ä¸åŒçš„Hugoä¸»é¢˜ï¼Œåº”è¯¥æœ‰ä¸åŒçš„æ€è·¯ã€‚ä½†æ˜¯åŸºæœ¬æ€è·¯è¿˜æ˜¯ï¼š\n headé‡Œæ·»åŠ css bodyä¸­æ·»åŠ ä¸¤ä¸ªâ€œscriptâ€œå…ƒç´ ç¬¬ä¸€ä¸ªæ˜¯jsæ–‡ä»¶ï¼Œç¬¬äºŒä¸ªæ˜¯loadjs  æˆ‘ç”¨çš„æ˜¯Hugoçš„contrastä¸»é¢˜ï¼Œæ‰“å¼€æ–‡ä»¶å¤¹theme - layoutï¼Œæ‰¾åˆ°åšæ–‡çš„base.htmlï¼Œæ‰“å¼€åœ¨é‡Œé¢æ·»åŠ åŸºæœ¬æ€è·¯ä¸­çš„æ–‡ä»¶ã€‚æˆ‘ä»¿ç…§ä»£ç é‡Œæœ¬æ¥æœ‰çš„ç›®å½•ï¼Œç®€å•ä¿®æ”¹ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚ï¼ˆç¬¬äºŒè¡Œæ˜¯æˆ‘æ·»åŠ çš„highlight cssæ–‡ä»¶ï¼‰\n\u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;{{ .Site.BaseURL }}css/index.css\u0026quot;\u0026gt; \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;{{ .Site.BaseURL }}css/github.css\u0026quot;\u0026gt;  cssçš„é€‰æ‹©å¯ä»¥åˆ°GitHubä¸Šhightlight.jsçš„src/styleä¸‹é¢æ‰¾ã€‚\njsæ–‡ä»¶ï¼Œç”¨å®˜ç½‘ä¸Šçš„cdnå°±å¯ä»¥ã€‚æˆ–è€…ç›´æ¥ä¸‹è½½ä¸‹æ¥ã€‚\nå‚è€ƒ https://orianna-zzo.github.io/sci-tech/2018-01/blogå…»æˆè®°3-hugoçš„è¯­æ³•é«˜äº®é…ç½®/#ä½¿ç”¨highlight-shortcodeè¿›è¡Œé«˜äº®\n","id":4,"section":"posts","summary":"æ–¹æ³•ï¼šç”¨hightlight.jsåšé«˜äº®ã€‚ é’ˆå¯¹ä¸åŒçš„Hugoä¸»é¢˜ï¼Œåº”è¯¥æœ‰ä¸åŒçš„æ€è·¯ã€‚ä½†æ˜¯åŸºæœ¬æ€è·¯è¿˜æ˜¯ï¼š headé‡Œæ·»åŠ css bodyä¸­æ·»åŠ ä¸¤ä¸ª","tags":["hugo","highlight"],"title":"Hugoæ·»åŠ ä»£ç é«˜äº®","uri":"https://zecoo.github.io/hugo/2020/05/hugo-code-highlight/","year":"2020"},{"content":" æ•´ä½“æ€è·¯ 01 æŸ¥çœ‹Promçš„metricï¼š å†™å¥½PromQLè·å¾—è‡ªå·±æƒ³è¦çš„metricï¼Œè¿™æ—¶å€™åªæ˜¯æ–‡æœ¬çš„å½¢å¼ã€‚è€Œä¸”åˆè‡­åˆé•¿ã€‚\n\u0026quot;metric\u0026quot;: { \u0026quot;__name__\u0026quot;: \u0026quot;istio_requests_total\u0026quot;, \u0026quot;connection_security_policy\u0026quot;: \u0026quot;unknown\u0026quot;, \u0026quot;destination_app\u0026quot;: \u0026quot;productpage\u0026quot;, \u0026quot;destination_canonical_revision\u0026quot;: \u0026quot;v1\u0026quot;, \u0026quot;destination_canonical_service\u0026quot;: \u0026quot;productpage\u0026quot;, \u0026quot;destination_principal\u0026quot;: \u0026quot;spiffe://cluster.local/ns/default/sa/bookinfo-productpage\u0026quot;, \u0026quot;destination_service\u0026quot;: \u0026quot;productpage.default.svc.cluster.local\u0026quot;, \u0026quot;destination_service_name\u0026quot;: \u0026quot;productpage\u0026quot;, \u0026quot;destination_service_namespace\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;destination_version\u0026quot;: \u0026quot;v1\u0026quot;, \u0026quot;destination_workload\u0026quot;: \u0026quot;productpage-v1\u0026quot;, \u0026quot;destination_workload_namespace\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;instance\u0026quot;: \u0026quot;10.244.0.61:15090\u0026quot;, \u0026quot;job\u0026quot;: \u0026quot;envoy-stats\u0026quot;, \u0026quot;namespace\u0026quot;: \u0026quot;istio-system\u0026quot;, \u0026quot;pod_name\u0026quot;: \u0026quot;istio-ingressgateway-6489d9556d-ws6cg\u0026quot;, \u0026quot;reporter\u0026quot;: \u0026quot;source\u0026quot;, \u0026quot;request_protocol\u0026quot;: \u0026quot;http\u0026quot;, \u0026quot;response_code\u0026quot;: \u0026quot;200\u0026quot;, \u0026quot;response_flags\u0026quot;: \u0026quot;-\u0026quot;, \u0026quot;source_app\u0026quot;: \u0026quot;istio-ingressgateway\u0026quot;, \u0026quot;source_canonical_revision\u0026quot;: \u0026quot;1.5\u0026quot;, \u0026quot;source_canonical_service\u0026quot;: \u0026quot;istio-ingressgateway\u0026quot;, \u0026quot;source_principal\u0026quot;: \u0026quot;spiffe://cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account\u0026quot;, \u0026quot;source_version\u0026quot;: \u0026quot;unknown\u0026quot;, \u0026quot;source_workload\u0026quot;: \u0026quot;istio-ingressgateway\u0026quot;, \u0026quot;source_workload_namespace\u0026quot;: \u0026quot;istio-system\u0026quot; }, \u0026quot;value\u0026quot;: [ 1588918429.726, \u0026quot;5148\u0026quot; ] }  02 æå–metric ç”¨ä»£ç æˆ–è€…åœ¨æµè§ˆå™¨ä¸­ç”¨Promæä¾›çš„HTTP APIè®¿é—®æå–metricsã€‚è¯·ä¸è¦ç”¨curlï¼Œè¿™ä¸ªå‘åœ¨å¦ä¸€ä¸ªåšå®¢é‡Œå·²ç»æåˆ°äº†ã€‚\nhttp://prom_url/api/v1/query?query=req_total{destination_app=\u0026quot;x\u0026quot;}  03 å¯è§†åŒ–metric æœ€ç®€å•çš„æ–¹æ³•ï¼šGrafanaï¼Œæˆ‘æ˜¯ççŒ«ç¢°åˆ°æ­»è€—å­æ‰¾åˆ°çš„ã€‚ç‰ˆæœ¬v6.5.2ç‚¹Exploreï¼Œå¯ä»¥è¾“å…¥PromQLç›´æ¥ç”Ÿæˆæ¼‚äº®çš„graphï¼Œä½†æ˜¯åšè®ºæ–‡çš„å›¾çš„è¯å¯èƒ½è¿˜æ˜¯è¦ç”¨plotç”»å›¾ã€‚\n","id":5,"section":"posts","summary":"æ•´ä½“æ€è·¯ 01 æŸ¥çœ‹Promçš„metricï¼š å†™å¥½PromQLè·å¾—è‡ªå·±æƒ³è¦çš„metricï¼Œè¿™æ—¶å€™åªæ˜¯æ–‡æœ¬çš„å½¢å¼ã€‚è€Œä¸”åˆè‡­åˆé•¿ã€‚ \u0026quot;metric\u0026quot;: { \u0026quot;__name__\u0026quot;: \u0026quot;istio_requests_total\u0026quot;, \u0026quot;connection_security_policy\u0026quot;: \u0026quot;unknown\u0026quot;, \u0026quot;destination_app\u0026quot;: \u0026quot;productpage\u0026quot;, \u0026quot;destination_canonical_revision\u0026quot;: \u0026quot;v1\u0026quot;, \u0026quot;destination_canonical_service\u0026quot;:","tags":["istio","prom"],"title":"Metric to Graphæ€è·¯åŠå®è·µ","uri":"https://zecoo.github.io/hugo/2020/05/metric-graph%E6%80%9D%E8%B7%AF%E5%8F%8A%E5%AE%9E%E8%B7%B5/","year":"2020"},{"content":" Promè¿”å›çš„jsonæ ¼å¼æ²¡æœ‰reindentï¼Œçœ‹èµ·æ¥å¾ˆè´¹çœ¼ç›ã€‚\n{\u0026quot;metric\u0026quot;:{\u0026quot;__name__\u0026quot;:\u0026quot;istio_requests_total\u0026quot;,\u0026quot;destination_app\u0026quot;:\u0026quot;productpage\u0026quot;,\u0026quot;destination_service\u0026quot;:\u0026quot;productpage\u0026quot;,\u0026quot;value\u0026quot;:[1588929523.247,\u0026quot;10523\u0026quot;]}]}}  åœ¨å‘½ä»¤è¡Œï¼Œæƒ³è®©å…¶ç”¨ç¼©è¿›å¥½çš„jsonå±•ç¤ºå‡ºæ¥ï¼Œå°±è¦ç”¨åˆ°jqã€‚\ncurl http://test.json | jq  åªéœ€è¦åœ¨åé¢åŠ ä¸Šjqï¼Œå°±å¯ä»¥çœ‹åˆ°æ¼‚äº®çš„jsonæ ¼å¼æ•°æ®\n\u0026quot;metric\u0026quot;: { \u0026quot;__name__\u0026quot;: \u0026quot;istio_requests_total\u0026quot;, \u0026quot;connection_security_policy\u0026quot;: \u0026quot;unknown\u0026quot;, \u0026quot;destination_app\u0026quot;: \u0026quot;productpage\u0026quot;, \u0026quot;destination_canonical_revision\u0026quot;: \u0026quot;v1\u0026quot;, \u0026quot;destination_canonical_service\u0026quot;: \u0026quot;productpage\u0026quot;, \u0026quot;destination_principal\u0026quot;: \u0026quot;spiffe://cluster.local/ns/default/sa/bookinfo-productpage\u0026quot;, \u0026quot;destination_service\u0026quot;: \u0026quot;productpage.default.svc.cluster.local\u0026quot;, \u0026quot;destination_service_name\u0026quot;: \u0026quot;productpage\u0026quot;, \u0026quot;destination_service_namespace\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;destination_version\u0026quot;: \u0026quot;v1\u0026quot;, \u0026quot;destination_workload\u0026quot;: \u0026quot;productpage-v1\u0026quot;, \u0026quot;destination_workload_namespace\u0026quot;: \u0026quot;default\u0026quot;, \u0026quot;instance\u0026quot;: \u0026quot;10.244.0.61:15090\u0026quot;, \u0026quot;job\u0026quot;: \u0026quot;envoy-stats\u0026quot;, \u0026quot;namespace\u0026quot;: \u0026quot;istio-system\u0026quot;, \u0026quot;pod_name\u0026quot;: \u0026quot;istio-ingressgateway-6489d9556d-ws6cg\u0026quot;, \u0026quot;reporter\u0026quot;: \u0026quot;source\u0026quot;, \u0026quot;request_protocol\u0026quot;: \u0026quot;http\u0026quot;, \u0026quot;response_code\u0026quot;: \u0026quot;200\u0026quot;, \u0026quot;response_flags\u0026quot;: \u0026quot;-\u0026quot;, \u0026quot;source_app\u0026quot;: \u0026quot;istio-ingressgateway\u0026quot;, \u0026quot;source_canonical_revision\u0026quot;: \u0026quot;1.5\u0026quot;, \u0026quot;source_canonical_service\u0026quot;: \u0026quot;istio-ingressgateway\u0026quot;, \u0026quot;source_principal\u0026quot;: \u0026quot;spiffe://cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account\u0026quot;, \u0026quot;source_version\u0026quot;: \u0026quot;unknown\u0026quot;, \u0026quot;source_workload\u0026quot;: \u0026quot;istio-ingressgateway\u0026quot;, \u0026quot;source_workload_namespace\u0026quot;: \u0026quot;istio-system\u0026quot; }, \u0026quot;value\u0026quot;: [ 1588918429.726, \u0026quot;5148\u0026quot; ]  å‚è€ƒ https://stedolan.github.io/jq/manual/#example6 ï¼ˆjqå®˜æ–¹æ‰‹å†Œï¼‰\nhttps://jqplay.org ï¼ˆjq playgroundï¼‰\n","id":6,"section":"posts","summary":"Promè¿”å›çš„jsonæ ¼å¼æ²¡æœ‰reindentï¼Œçœ‹èµ·æ¥å¾ˆè´¹çœ¼ç›ã€‚ {\u0026quot;metric\u0026quot;:{\u0026quot;__name__\u0026quot;:\u0026quot;istio_requests_total\u0026quot;,\u0026quot;destination_app\u0026quot;:\u0026quot;productpage\u0026quot;,\u0026quot;destination_service\u0026quot;:\u0026quot;productpage\u0026quot;,\u0026quot;value\u0026quot;:[1588929523.247,\u0026quot;10523\u0026quot;]}]}} åœ¨å‘½ä»¤è¡Œï¼Œæƒ³è®©å…¶ç”¨ç¼©è¿›å¥½çš„jsonå±•ç¤ºå‡ºæ¥ï¼Œå°±è¦ç”¨åˆ°jqã€‚ curl http://test.json | jq åªéœ€è¦åœ¨","tags":["server","jq"],"title":"jq in terminal for json","uri":"https://zecoo.github.io/hugo/2020/05/jq-in-terminal-for-json/","year":"2020"},{"content":" Promå®˜ç½‘ç»™å‡ºhttp APIä¾‹å¦‚è·å–2015å¹´7æœˆ1å·æŸå¤©çš„æ•°æ®è¿™æ ·å†™ï¼šï¼ˆæˆ‘è·å¾—äº†istio_requests_totalçš„æ‰€æœ‰metricï¼‰\ncurl 'http://localhost:9090/api/v1/query?query=istio_requests_total\u0026amp;time=2015-07-01T20:10:51.781Z'  æˆ‘æƒ³ç”¨PromQLï¼Œç±»ä¼¼Promçš„UIé’ˆå¯¹repose_codeå¯¹queryè¿›è¡Œè¿‡æ»¤\nquery?istio_requsets_total{response_code=200}  æŒ‰ç…§æ™®é€šçš„æ€è·¯æˆ‘è¯•ç€è¿™æ ·ä¿®æ”¹curlåœ°å€å¦‚ä¸‹ï¼š\ncurl 'http://localhost:9090/api/v1/query?query=istio_requsets_total{response_code=200}\u0026amp;time=2020-05-07T20:10:51.781Z'  å¤±è´¥ã€‚èŠ±äº†å¾ˆé•¿æ—¶é—´æ‰¾èµ„æ–™ï¼Œæ‰¾ä¸åˆ°ã€‚\næœ€åç”¨æµè§ˆå™¨è¯•ä¸€ä¸‹ï¼Œåœ¨http://localhost:9090/api/v1/query?query=ä¹‹åæŠŠPromQLç›´æ¥ç²˜è´´åœ¨åé¢å°±å¯ä»¥è®¿é—®åˆ°ã€‚æµè§ˆå™¨è¿™è¾¹å¸®å¿™åšäº†å¤„ç†ï¼Œæœ€åçš„åœ°å€å½¢å¼æ˜¯è¿™æ ·çš„ï¼›\nhttp://121.37.159.247:30040/api/v1/query?query=istio_requests_total{response_code=%22200%22}  æŠŠå¼•å·\u0026quot;å¤„ç†æˆäº†%22ã€‚\nå‚è€ƒ https://prometheus.io/docs/prometheus/latest/querying/api/ ï¼ˆå®˜æ–¹http APIç”¨æ³•ï¼‰\n","id":7,"section":"posts","summary":"Promå®˜ç½‘ç»™å‡ºhttp APIä¾‹å¦‚è·å–2015å¹´7æœˆ1å·æŸå¤©çš„æ•°æ®è¿™æ ·å†™ï¼šï¼ˆæˆ‘è·å¾—äº†istio_requests_totalçš„æ‰€æœ‰metri","tags":["prom"],"title":"PromQL query in http API","uri":"https://zecoo.github.io/hugo/2020/05/promql-query-in-http-api/","year":"2020"},{"content":" æœŸå¾…æ•°æ® 10minå†…çš„è¯·æ±‚æ•°ï¼ˆsumï¼‰\nistio_requests_total{destination_service_name=\u0026quot;productpage\u0026quot;}  10minå†…çš„è¯·æ±‚æ•°å¢é•¿ç‡ï¼ˆrateï¼‰\nrate(istio_requests_total{destination_app=\u0026quot;productpage\u0026quot;}[10m])  10minå†…çš„å“åº”æ—¶é—´P90ï¼ˆquantileï¼‰\nhistogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_app=\u0026quot;productpage\u0026quot;}[10m])) by(le))  10minå†…çš„å“åº”æ—¶é—´å¢é•¿ç‡ï¼ˆrateï¼‰\nrate(istio_request_duration_milliseconds_bucket{destination_app=\u0026quot;productpage\u0026quot;}[10m])  å‚è€ƒ https://www.zhihu.com/question/380615839 ï¼ˆPromæ—¶åŒºUTCæ²¡æ³•æ”¹ï¼‰\n","id":8,"section":"posts","summary":"æœŸå¾…æ•°æ® 10minå†…çš„è¯·æ±‚æ•°ï¼ˆsumï¼‰ istio_requests_total{destination_service_name=\u0026quot;productpage\u0026quot;} 10minå†…çš„è¯·æ±‚æ•°å¢é•¿ç‡ï¼ˆrateï¼‰ rate(istio_requests_total{destination_app=\u0026quot;productpage\u0026quot;}[10m]) 10minå†…çš„å“åº”æ—¶é—´P90ï¼ˆquantileï¼‰ histogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_app=\u0026quot;productpage\u0026quot;}[10m])) by(le)) 10m","tags":["prom"],"title":"PromQLç†è§£","uri":"https://zecoo.github.io/hugo/2020/05/promql%E7%90%86%E8%A7%A3/","year":"2020"},{"content":" siegeä¸€åˆ†é’Ÿå‹æµ‹æœ€åç»™å‡ºçš„ç»Ÿè®¡æ•°æ®ï¼š\nLifting the server siege... Transactions:\t439 hits Availability:\t51.83 % Elapsed time:\t59.33 secs Data transferred:\t8.47 MB Response time:\t9.88 secs Transaction rate:\t7.40 trans/sec Throughput:\t0.14 MB/sec Concurrency:\t73.10 Successful transactions: 439 Failed transactions:\t408 Longest transaction:\t56.69 Shortest transaction:\t0.13  istio Envoyçš„access logï¼š\nã€START_TIMEã€‘[2020-05-06T09:32:24.488Z] ã€METHODã€‘\u0026quot;GET ã€PATHã€‘/flasgger_static/swagger-ui-bundle.js ã€PROTOCOLã€‘HTTP/1.1\u0026quot; ã€REPONSE CODEã€‘200 - \u0026quot;-\u0026quot; \u0026quot;-\u0026quot; 0 1048149 261 225 ã€FORWARD_FORã€‘\u0026quot;-\u0026quot; ã€AGENTã€‘\u0026quot;Mozilla/5.0 (pc-x86_64-linux-gnu) Siege/4.0.5\u0026quot; ã€REQUEST_IDã€‘\u0026quot;51b45953-9ede-9390-b8b5-162247165a5b\u0026quot; ã€AUTHORITYã€‘\u0026quot;10.108.208.232:8000\u0026quot; ã€HOSTã€‘\u0026quot;127.0.0.1:80\u0026quot; ã€SERVICEã€‘inbound|8000|http|httpbin.default.svc.cluster.local ã€CLUSTER_IPã€‘127.0.0.1:43000 10.244.0.67:80 10.244.0.1:10504 - ã€APPã€‘default  Promå…³äºdurationçš„metricï¼š\n\u0026quot;metric\u0026quot;:{ \u0026quot;__name__\u0026quot;:\u0026quot;istio_request_duration_milliseconds_bucket\u0026quot;, \u0026quot;connection_security_policy\u0026quot;:\u0026quot;unknown\u0026quot;, \u0026quot;destination_app\u0026quot;:\u0026quot;productpage\u0026quot;, \u0026quot;destination_canonical_revision\u0026quot;:\u0026quot;v1\u0026quot;, \u0026quot;destination_canonical_service\u0026quot;:\u0026quot;productpage\u0026quot;, \u0026quot;destination_service\u0026quot;:\u0026quot;productpage.default.svc.cluster.local\u0026quot;, \u0026quot;destination_service_name\u0026quot;:\u0026quot;productpage\u0026quot;, \u0026quot;destination_service_namespace\u0026quot;:\u0026quot;default\u0026quot;, \u0026quot;destination_version\u0026quot;:\u0026quot;v1\u0026quot;, \u0026quot;destination_workload\u0026quot;:\u0026quot;productpage-v1\u0026quot;, \u0026quot;destination_workload_namespace\u0026quot;:\u0026quot;default\u0026quot;, \u0026quot;instance\u0026quot;:\u0026quot;10.244.0.14:15090\u0026quot;, \u0026quot;job\u0026quot;:\u0026quot;envoy-stats\u0026quot;, \u0026quot;le\u0026quot;:\u0026quot;6000\u0026quot;, \u0026quot;namespace\u0026quot;:\u0026quot;default\u0026quot;, \u0026quot;pod_name\u0026quot;:\u0026quot;ratings-v1-6f855c5fff-wsqpx\u0026quot;, \u0026quot;reporter\u0026quot;:\u0026quot;source\u0026quot;, \u0026quot;request_protocol\u0026quot;:\u0026quot;http\u0026quot;, \u0026quot;response_code\u0026quot;:\u0026quot;200\u0026quot;, \u0026quot;response_flags\u0026quot;:\u0026quot;-\u0026quot;,a \u0026quot;source_app\u0026quot;:\u0026quot;ratings\u0026quot;, \u0026quot;source_canonical_revision\u0026quot;:\u0026quot;v1\u0026quot;, \u0026quot;source_canonical_service\u0026quot;:\u0026quot;ratings\u0026quot;, \u0026quot;source_principal\u0026quot;:\u0026quot;spiffe://cluster.local/ns/default/sa/bookinfo-ratings\u0026quot;, \u0026quot;source_version\u0026quot;:\u0026quot;v1\u0026quot;, \u0026quot;source_workload\u0026quot;:\u0026quot;ratings-v1\u0026quot;, \u0026quot;source_workload_namespace\u0026quot;:\u0026quot;default\u0026quot;}, \u0026quot;values\u0026quot;:[[1588835634.769,\u0026quot;2\u0026quot;],[1588835649.769,\u0026quot;2\u0026quot;],[1588835664.769,\u0026quot;2\u0026quot;],[1588835679.769,\u0026quot;2\u0026quot;]] },  å‚è€ƒ https://prometheus.io/docs/prometheus/latest/querying/api/ ï¼ˆcurl queryè·å–metricï¼‰\n","id":9,"section":"posts","summary":"siegeä¸€åˆ†é’Ÿå‹æµ‹æœ€åç»™å‡ºçš„ç»Ÿè®¡æ•°æ®ï¼š Lifting the server siege... Transactions: 439 hits Availability: 51.83 % Elapsed time: 59.33 secs Data transferred: 8.47 MB Response time: 9.88 secs Transaction rate: 7.40 trans/sec Throughput: 0.14 MB/sec Concurrency: 73.10 Successful transactions: 439 Failed transactions: 408 Longest transaction: 56.69 Shortest transaction: 0.13 istio Envoyçš„","tags":["istio","prom"],"title":"Meta Metrics","uri":"https://zecoo.github.io/hugo/2020/05/meta-metrics/","year":"2020"},{"content":" åŸºæœ¬æ•°æ®è¿™æ ·\nã€START_TIMEã€‘[2020-05-06T09:32:24.488Z] ã€METHODã€‘\u0026quot;GET ã€PATHã€‘/flasgger_static/swagger-ui-bundle.js ã€PROTOCOLã€‘HTTP/1.1\u0026quot; ã€REPONSE CODEã€‘200 - \u0026quot;-\u0026quot; \u0026quot;-\u0026quot; 0 1048149 261 225 ã€FORWARD_FORã€‘\u0026quot;-\u0026quot; ã€AGENTã€‘\u0026quot;Mozilla/5.0 (pc-x86_64-linux-gnu) Siege/4.0.5\u0026quot; ã€REQUEST_IDã€‘\u0026quot;51b45953-9ede-9390-b8b5-162247165a5b\u0026quot; ã€AUTHORITYã€‘\u0026quot;10.108.208.232:8000\u0026quot; ã€HOSTã€‘\u0026quot;127.0.0.1:80\u0026quot; inbound|8000|http|httpbin.default.svc.cluster.local 127.0.0.1:43000 10.244.0.67:80 10.244.0.1:10504 - default  0 135 1 1 (/status/418) 0 9593 73 73 (http/1.1) 0 1428809 1 1 (swagger-ui.bundle.js) 0 85578 1 0 (jquery.min.js) 0 0 118 - (DC ResponseCode:0) 0 1048149 261 225 (swagger-ui.bundle.js)  é‚£ä¹ˆè¿™4ä¸²æ•°å­—åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆå‘¢ï¼Ÿæ ¹æ®Envoyå®˜æ–¹ç»™å‡ºçš„å¯¹åº”å…³ç³»ï¼Œç”±äºHTTP_FLAGSä¸€èˆ¬éƒ½æ˜¯æ¯”è¾ƒç‰¹åˆ«çš„ï¼Œè€Œæˆ‘å¾—åˆ°çš„éƒ½æ˜¯\u0026rdquo;-\u0026ldquo;ï¼Œå¯ä»¥å¾—åˆ°å¯¹åº”å…³ç³»ï¼š\n[1]BYTES_RECEIVED [2]BYTES_SENT [3]DURATION [4]ENVOY-UPSTREAM-SERVICE-TIME  istio bookinfoç¤ºä¾‹ä¸­ç»™å‡ºçš„logæ˜¯è¿™æ ·ï¼ˆå®˜æ–¹ç»™å‡ºçš„ï¼Œæˆ‘ç°åœ¨ä¸æƒ³æŠ˜è…¾Mixerï¼Œå¾—ä¸åˆ°è¿™ä¸ªæ•°æ®ï¼‰\n{\u0026quot;level\u0026quot;:\u0026quot;warn\u0026quot;,\u0026quot;time\u0026quot;:\u0026quot;2018-09-15T20:46:35.982761Z\u0026quot;,\u0026quot;instance\u0026quot;:\u0026quot;newlog.xxxxx.istio-system\u0026quot;,\u0026quot;destination\u0026quot;:\u0026quot;productpage\u0026quot;,\u0026quot;latency\u0026quot;:\u0026quot;968.030256ms\u0026quot;,\u0026quot;responseCode\u0026quot;:200,\u0026quot;responseSize\u0026quot;:4415,\u0026quot;source\u0026quot;:\u0026quot;istio-ingressgateway\u0026quot;,\u0026quot;user\u0026quot;:\u0026quot;unknown\u0026quot;}  åŒºåˆ«çš„é‡ç‚¹åœ¨äº samples/bookinfo/telemetry/log-entry.yaml è¿™ä¸ªæ–‡ä»¶ã€‚\nä½†æ˜¯å¦‚æœè¦logçš„è¯ï¼Œè¦ç”¨åˆ°Mixerè¿™ä¸ªç»„ä»¶ï¼Œç„¶è€ŒMixerå·²ç»è¢«å®˜æ–¹å¼ƒç”¨äº†ï¼Œæ€ä¹ˆå®˜æ–¹æ–‡æ¡£è¿˜æ˜¯è¦è¿™ç©æ„å„¿ï¼Ÿ\nä¸­æ–‡æ–‡æ¡£æ›´æ–°å¾—å¥½æ…¢å•Šï¼ŒEnvoyè·å–logå·²ç»ä¸åœ¨è‹±æ–‡çš„æ–‡æ¡£é‡Œäº†â€¦\nå‚è€ƒ https://github.com/istio/istio/tree/master/mixer ï¼ˆMixerè¢«å¼ƒç”¨ï¼‰\nhttps://istio-releases.github.io/v0.1/docs/tasks/installing-istio.html ï¼ˆå®‰è£…Mixerï¼‰\nhttps://www.envoyproxy.cn/configurationreference/accesslogging ï¼ˆenvoy access log format ä¸­æ–‡æ–‡æ¡£ï¼‰\nhttps://blog.csdn.net/luo15242208310/article/details/98745143 ï¼ˆç”¨å½©è‰²åŒºåˆ†äº†ä¸åŒçš„logéƒ¨åˆ†ï¼‰\n","id":10,"section":"posts","summary":"åŸºæœ¬æ•°æ®è¿™æ · ã€START_TIMEã€‘[2020-05-06T09:32:24.488Z] ã€METHODã€‘\u0026quot;GET ã€PATHã€‘/fl","tags":["istio"],"title":"istio envoy log type","uri":"https://zecoo.github.io/hugo/2020/05/istio-envoy-log-type/","year":"2020"},{"content":" SCSSï¼šSassy CSS\nSASSæ¯”SCSSæ›´ç®€æ´å•Šï¼Œæ„Ÿè§‰æ›´åƒç°ä»£ç¼–ç¨‹è¯­è¨€ï¼Œè·Ÿyamlä¸€æ ·ã€‚\næˆ‘å’‹è¿˜åœ¨scssçš„ç¯å¢ƒä¸Šè¸©åˆ°å‘äº†å‘¢ï¼Ÿ\nå…ˆæ˜¯ç»™æˆ‘æŠ¥é”™\nbad interpreter: /System/Library/Frameworks/Ruby.framework/Versions/2.3/usr/bin/ruby: no such file or directory  ä¸€æŸ¥æ˜¯sassç¯å¢ƒæ²¡è£…ä¸Šâ€¦â€¦æˆ‘ä»¥ä¸ºmacè‡ªå¸¦rubyä¸ç”¨ç®¡å‘¢\nsudo gem install -n /usr/local/bin sass --pre  å®‰è£…ä¹‹ã€‚ç„¶åå‘ç°rubyçš„æºç”¨ä¸äº†ï¼ŒåŸæ¥æ˜¯ https://gems.ruby-china.org æ”¹æˆäº† https://gems.ruby-china.com ï¼Œå®³ã€‚\nç¼–è¯‘cssçš„é¡¹ç›®ç›®å½•ä¹Ÿéœ€è¦æ›´æ”¹ï¼Œé»˜è®¤æ˜¯ç¼–è¯‘åˆ°scssç›¸åŒçš„ç›®å½•ã€‚\n{ \u0026quot;cmd\u0026quot;: [ \u0026quot;sass\u0026quot;, \u0026quot;--update\u0026quot;, \u0026quot;$file:${file_path}/../css/${file_base_name}.css\u0026quot;, \u0026quot;--stop-on-error\u0026quot;, \u0026quot;--no-cache\u0026quot;], \u0026quot;osx\u0026quot;: { \u0026quot;path\u0026quot;: \u0026quot;/usr/local/bin:$PATH\u0026quot; } }  æœ€åsublimeå†è£…ä¸€ä¸ªæ’ä»¶\u0026rdquo;sublimeBuildOnSave\u0026rdquo;è‡ªåŠ¨ç¼–è¯‘sassï¼Œä¸è¦æ¯æ¬¡éƒ½cmd+Bä¸€ä¸‹ã€‚\nå‚è€ƒ https://www.jianshu.com/p/f8cbe91498dc ï¼ˆruby chinaæ¢æºäº†ï¼‰\nhttps://www.sass.hk/install/ ï¼ˆruby å®‰è£…sassï¼‰\nhttps://blog.logrocket.com/getting-started-with-bootstrapvue-2d8bf907ef11/ ï¼ˆbootVue blogï¼‰\nhttps://bootstrap-vue.org/docs ï¼ˆbootVueå®˜ç½‘ï¼‰\n","id":11,"section":"posts","summary":"SCSSï¼šSassy CSS SASSæ¯”SCSSæ›´ç®€æ´å•Šï¼Œæ„Ÿè§‰æ›´åƒç°ä»£ç¼–ç¨‹è¯­è¨€ï¼Œè·Ÿyamlä¸€æ ·ã€‚ æˆ‘å’‹è¿˜åœ¨scssçš„ç¯å¢ƒä¸Šè¸©åˆ°å‘äº†å‘¢ï¼Ÿ å…ˆæ˜¯ç»™æˆ‘æŠ¥é”™ bad interpreter:","tags":["css","scss"],"title":"scss tutorial","uri":"https://zecoo.github.io/hugo/2020/05/scss-tutorial/","year":"2020"},{"content":" å…ˆæä¸€ä¸ªé¢˜å¤–è¯ï¼šå¦‚ä½•é”€æ¯å·²ç»åˆ›å»ºçš„éƒ¨ç½²ï¼Ÿç­”ï¼š\næœ‰kubectl create -f ./metrics-serverå°±æœ‰kubectl delete -f ./metrics-server\næŒ‰ç…§ä¸»è¦å‚è€ƒï¼Œå¤§éƒ¨åˆ†éƒ½å¯ä»¥å®ç°ã€‚ä½†æ˜¯æœ‰å‡ ä¸ªå‘éœ€è¦æ³¨æ„\n autoscalingçš„ç‰ˆæœ¬åˆ†ä¸ºv1beta1ã€v2beta1ã€v2beta2ã€‚ç”¨æ³•ä¸åŒ deployment: extension/v1beta1è¿™æ ·çš„ç”¨æ³•æˆ‘æ”¹ä¸ºapps/v1beta1åˆ›å»ºHPAæ‰èƒ½æˆåŠŸ  HPAçš„é‡ç‚¹æ˜¯hpa.yamlé‡Œé¢çš„cpuå’Œmemçš„æŒ‡å®šã€‚\nPrometheus + HPAçš„é‡ç‚¹æ˜¯å¦‚ä½•å°†Promçš„æ•°æ®æ”¹ä¸ºmetrics serverå¯ä»¥ä½¿ç”¨çš„æ•°æ®ã€‚è¿™é‡Œçš„æ–¹æ³•åº”è¯¥æ˜¯config-mapä¸­æ„å»ºçš„ä¸€ç³»åˆ—ruleã€‚å…ˆæ‹¿æ¥ç”¨ï¼Œæš‚æ—¶ä¸å»æ·±ç©¶ã€‚\nå‚è€ƒ https://blog.csdn.net/yevvzi/article/details/79561150 ï¼ˆæœ¬æ–‡ä¸»è¦å‚è€ƒï¼‰\nhttps://blog.csdn.net/xktxoo/article/details/87909432 ï¼ˆjqä»‹ç»ï¼‰\nhttps://cloud.tencent.com/developer/article/1394657 ï¼ˆselectoré—®é¢˜ï¼‰\nhttps://q.cnblogs.com/q/125354/ ï¼ˆtargeté—®é¢˜ï¼‰\nhttps://blog.51cto.com/13740724/2368066 ï¼ˆæ–°ç‰ˆæœ¬è¯¥è¿™ä¹ˆç”¨ï¼‰\nhttps://www.cnblogs.com/yunqishequ/p/10006896.html ï¼ˆä¸åŒç‰ˆæœ¬autoscalingï¼‰\nhttps://stackoverflow.com/questions/43163625/when-i-use-deployment-in-kubernetes-whats-the-differences-between-apps-v1beta1 ï¼ˆdeployment versionï¼‰\n","id":12,"section":"posts","summary":"å…ˆæä¸€ä¸ªé¢˜å¤–è¯ï¼šå¦‚ä½•é”€æ¯å·²ç»åˆ›å»ºçš„éƒ¨ç½²ï¼Ÿç­”ï¼š æœ‰kubectl create -f ./metrics-serverå°±æœ‰kubectl delete -f ./metrics-server æŒ‰ç…§ä¸»è¦å‚è€ƒï¼Œå¤§éƒ¨åˆ†","tags":["k8s","HPA"],"title":"k8s HPAå°è¯•","uri":"https://zecoo.github.io/hugo/2020/05/k8s-hpa%E5%B0%9D%E8%AF%95/","year":"2020"},{"content":" Promçš„å››ç§åŸºæœ¬metricç±»å‹  counterï¼šä»0å¼€å§‹è®¡æ•°çš„ï¼Œæ¯”å¦‚http_req_total gaugeï¼šæœ‰æµ®åŠ¨çš„æŒ‡æ ‡ï¼Œæ¯”å¦‚cpuã€mem histogramï¼šç»Ÿè®¡æ•°æ®ï¼Œæ¯”å¦‚P90 summaryï¼šå’Œhistogramç±»ä¼¼  å‡ ä¸ªç¤ºä¾‹ P90  The Ï†-quantile is the observation value that ranks at number Ï†*N among the N observations. Examples for Ï†-quantiles: The 0.5-quantile is known as the median. The 0.95-quantile is the 95th percentile.\n åˆ†ä½ç‚¹çš„æ¦‚å¿µã€‚å®˜æ–¹ç¤ºä¾‹ï¼š10åˆ†é’Ÿå†…è¯·æ±‚æŒç»­æ—¶é—´çš„90%ï¼Œä»¥PromQLçš„å½¢å¼ç»™å‡ºï¼š\nhistogram_quantile(0.9, rate(http_request_duration_seconds_bucket[10m]))  ä»¥ä¸‹æ•°æ®æ˜¯é€šè¿‡ curl http://121.37.159.247:30040/metrics è·å–çš„ï¼Œæˆªå–éƒ¨åˆ†ã€‚\n# HELP prometheus_tsdb_wal_fsync_duration_seconds Duration of WAL fsync. # TYPE prometheus_tsdb_wal_fsync_duration_seconds summary prometheus_tsdb_wal_fsync_duration_seconds{quantile=\u0026quot;0.5\u0026quot;} 0.012352463 prometheus_tsdb_wal_fsync_duration_seconds{quantile=\u0026quot;0.9\u0026quot;} 0.014458005 prometheus_tsdb_wal_fsync_duration_seconds{quantile=\u0026quot;0.99\u0026quot;} 0.017316173 prometheus_tsdb_wal_fsync_duration_seconds_sum 2.888716127000002 prometheus_tsdb_wal_fsync_duration_seconds_count 216  â€œä»ä¸Šé¢çš„æ ·æœ¬ä¸­å¯ä»¥å¾—çŸ¥å½“å‰Prometheus Serverè¿›è¡Œwal_fsyncæ“ä½œçš„æ€»æ¬¡æ•°ä¸º216æ¬¡ï¼Œè€—æ—¶2.888716127000002sã€‚å…¶ä¸­ä¸­ä½æ•°ï¼ˆquantile=0.5ï¼‰çš„è€—æ—¶ä¸º0.012352463ï¼Œ9åˆ†ä½æ•°ï¼ˆquantile=0.9ï¼‰çš„è€—æ—¶ä¸º0.014458005sï¼Œ90%çš„æ•°æ®éƒ½å°äºç­‰äº0.014458005sã€‚â€\nle=\u0026ldquo;0.3\u0026rdquo; leå³levelï¼Œæˆ‘ç°åœ¨åªæœ‰åœ¨å®˜ç½‘çœ‹åˆ°å¯¹leçš„ç®€å•è§£é‡Šï¼Œè€Œä¸”ç†è§£èµ·æ¥å°±æ˜¯duration\u0026lt;levelã€‚\n5åˆ†é’Ÿå†…å“åº”æ—¶é—´åœ¨300msä»¥ä¸‹çš„è¯·æ±‚ï¼ˆle=\u0026ldquo;0.3\u0026rdquo; means requests within 300msï¼‰\nsum(rate(http_request_duration_seconds_bucket{le=\u0026quot;0.3\u0026quot;}[5m])) by (job)  è¯·è¯¦ç»†ä»‹ç»request_duration_seconds_bucketæ‰€ä»£è¡¨çš„å«ä¹‰ï¼š\nrequest durations in secondsï¼ˆè¯·æ±‚å“åº”æ—¶é—´ç”¨å•ä½ç§’è¡¨ç¤ºï¼‰ï¼Œbucketè¡¨ç¤ºæ‰€æœ‰é‡‡æ ·ç‚¹çš„æ•°é‡ã€‚ç»“åˆle=\u0026quot;0.3\u0026quot;è¡¨ç¤º\u0026rdquo;å“åº”æ—¶é—´å°äº300msçš„é‡‡æ ·ç‚¹çš„æ•°é‡ã€‚\næ›´ç›´è§‚ç†è§£æ¡¶ï¼Ÿå¯ä»¥çœ‹å‚è€ƒä¸­çš„åšå®¢ã€‚\nrate å¢é•¿ç‡ã€‚1åˆ†é’Ÿå†…çš„cpuä½¿ç”¨ç‡ï¼š\nrate(process_cpu_seconds_total[1m])* 100  key/valueçš„metricså½¢å¼ ä¾‹å¦‚ï¼š\nprocess_max_fds 65535  è¡¨ç¤ºå½“å‰é‡‡é›†çš„æœ€å¤§æ–‡ä»¶å¥æŸ„æ•°æ˜¯65535ã€‚\nåŸ‹ç‚¹Prom çœ‹ç€çœŸçš„å¾ˆç®€å•å•Šï¼Œå‚è€ƒpythonçš„åŸ‹ç‚¹æ–¹æ³•ï¼š\nfrom prometheus_client import start_http_server, Summary import random import time # Create a metric to track time spent and requests made. REQUEST_TIME = Summary('request_processing_seconds', 'Time spent processing request') # Decorate function with metric. @REQUEST_TIME.time() def process_request(t): \u0026quot;\u0026quot;\u0026quot;A dummy function that takes some time.\u0026quot;\u0026quot;\u0026quot; time.sleep(t) if __name__ == '__main__': # Start up the server to expose the metrics. start_http_server(8000) # Generate some requests. while True: process_request(random.random())  ç„¶åå°±å¯ä»¥åœ¨localhost:8000çœ‹åˆ°prom metricsäº†ã€‚\nè‡ªå®šä¹‰çš„metricï¼Œåˆ«äººèƒ½åšæˆè¿™æ ·ï¼š\næœ€åçš„çµé­‚ä¸€é—®ï¼šå¦‚ä½•çŸ¥é“Promæœ‰å“ªäº›å¯ç”¨çš„metricså‘¢ï¼Ÿ\nå‚è€ƒ https://www.v2ex.com/t/606786 ï¼ˆä¸­æ–‡è®²Prom metricsæœ€è¯¦ç»†çš„æ–‡ç« äº†å§ï¼‰\nhttps://www.jianshu.com/p/15f929160f38 ï¼ˆå››ç§metricç±»å‹ä»‹ç»å¾—å¾ˆæ£’ï¼‰\nhttps://prometheus.io/docs/concepts/metric_types/ ï¼ˆå®˜æ–¹è§£é‡Šmetrics typeï¼‰\nhttps://prometheus.io/docs/prometheus/latest/querying/functions/#histogram_quantile ï¼ˆP90å®˜æ–¹è¯´æ˜ï¼‰\nhttps://github.com/prometheus/client_python#histogram ï¼ˆpythonåŸ‹ç‚¹æ–¹æ³•ï¼‰\nhttps://www.cnblogs.com/YaoDD/p/11391316.html ï¼ˆgoåŸ‹ç‚¹è·å–metricsè¯¦è§£ï¼‰\nhttps://prometheus.io/docs/practices/histograms/ ï¼ˆhistogramå®˜æ–¹ä»‹ç»ï¼‰\nhttps://www.cnblogs.com/arloblog/p/12162858.html ï¼ˆè¿™æ‰æ˜¯ä»‹ç»Prom metricæœ€è¯¦ç»†çš„æ–‡ç« ï¼Œå…¶å®æ˜¯å®˜ç½‘ç¿»è¯‘å“ˆå“ˆï¼Œä½†æ˜¯ç¿»è¯‘çš„å¥½ï½ï¼‰\nhttp://blog.itpub.net/28218939/viewspace-2658770/ ï¼ˆåŸ‹ç‚¹è‡ªå®šä¹‰metricå¹¶grafanaåŒ–ï¼‰\nhttps://www.jianshu.com/p/8a6d3eff31e7 ï¼ˆç›´è§‚ç†è§£bucket å”¯ä¸€ä¸€ä¸ªè®²è§£æ¸…æ¥šçš„åšå®¢ï¼‰\n","id":13,"section":"posts","summary":"Promçš„å››ç§åŸºæœ¬metricç±»å‹ counterï¼šä»0å¼€å§‹è®¡æ•°çš„ï¼Œæ¯”å¦‚http_req_total gaugeï¼šæœ‰æµ®åŠ¨çš„æŒ‡æ ‡ï¼Œæ¯”å¦‚cpuã€me","tags":["prom"],"title":"Prometheus Metricå½¢å¼","uri":"https://zecoo.github.io/hugo/2020/05/prom-metric%E5%BD%A2%E5%BC%8F/","year":"2020"},{"content":" ç¯å¢ƒéƒ½æ­å¥½äº†ï¼Œä¸çŸ¥é“é‡Œé¢çš„åŸç†é‚£å¯ä¸è¡Œã€‚\næˆ‘ä¹Ÿä¸ä¼šç³»ç»Ÿå†™ï¼Œæƒ³åˆ°å“ªé‡Œå°±å†™åˆ°å“ªé‡Œå§ã€‚\nistioæ˜¯å¦‚ä½•åšåˆ°æ— ä¾µå…¥å°±èƒ½æ§åˆ¶æµé‡è½¬å‘ï¼Ÿ Sidecarè¿˜æœ‰Envoyæ˜¯è¿™é‡Œçš„æ ¸å¿ƒã€‚\nè¿™ä¸ªå›¾å°±å¾ˆå¥½å¾—è¯´æ˜äº†sidecarä¸­æµé‡çš„èµ°å‘ã€‚è¿™éƒ¨åˆ†åœ¨åä¸ºçš„ä¹¦ã€Šäº‘åŸå£°æœåŠ¡ç½‘æ ¼istioã€‹ä¸­å…³äºsidecarçš„ä»‹ç»å†™å¾—å¾ˆæ¸…æ¥šã€‚ä¹Ÿå°±æ˜¯è¯´Envoyé€šè¿‡iptablesæ‹¦æˆªäº†è¿›æ¥çš„æµé‡ï¼Œç„¶åå¼ºè¿«æµé‡èµ°è‡ªå·±çš„é€šé“ï¼Œç›¸å½“äºä¸€ä¸ªæ”¶ä¿æŠ¤è´¹çš„ã€‚\né‚£ä¹ˆiptablesä¸ºä»€ä¹ˆè¿™ä¹ˆå±Œï¼Œèƒ½æŠŠæµé‡ç»™æ‹¦æˆªä¸‹æ¥ï¼Ÿå…¶å®iptablesæ”¹åå«netfilteræ›´å½¢è±¡ä¸€äº›ã€‚å…ˆä¸æ·±ç©¶iptablesæ˜¯å¦‚ä½•åšè½¬å‘çš„ï¼Œå½¢è±¡ç†è§£iptablesä¸ºä½•è¿™ä¹ˆå±Œï¼Œå…¶å®æ˜¯å®ƒä½œä¸ºä¸€ä¸ªå†…æ ¸è®¾ç½®çš„åŠŸèƒ½ï¼Œå¯ä»¥æŠŠç½‘å¡æ¥å—åˆ°çš„æµé‡å…ˆé€šè¿‡è‡ªå·±è¿‡æ»¤ï¼Œç„¶åå†å‘é€ç»™webåº”ç”¨ã€‚\né‚£ä¹ˆä¹Ÿå°±æ˜¯ï¼Œæˆ‘ä»Safariå‘èµ·å¯¹http://serverip:port/productpageè®¿é—®ï¼Œé¦–å…ˆæµé‡é€šè¿‡æˆ‘çš„ç½‘å¡ï¼Œç»è¿‡è®¡ç®—æœºç½‘ç»œä¼ åˆ°serverçš„ç½‘å¡ï¼Œç„¶åserverçš„ç½‘å¡æŠŠè¿™æ¡æµé‡å…ˆäº¤ç»™iptablesè¿‡æ»¤ä¸€ä¸‹ï¼Œç„¶åå†å‘ç»™productpageä»£è¡¨çš„å¾®æœåŠ¡ã€‚\niptablesæˆ‘å¥½åƒæŠŠå®ƒå…³äº†ï¼Œä½†æ˜¯æˆ‘çš„istioä¾ç„¶èƒ½å¤Ÿå·¥ä½œï¼Ÿè¿™åˆæ˜¯ä¸ºä»€ä¹ˆå‘¢â€¦\nk8så¦‚ä½•è°ƒåº¦å¾®æœåŠ¡èŠ‚ç‚¹çš„ ææ¸…æ¥šè¿™æ ·å‡ ä¸ªæ¦‚å¿µï¼špodã€deploymentã€serviceã€node\n ä¸€ä¸ªpodä¸Šè·‘kä¸ªå®¹å™¨ï¼Œè¿™kä¸ªå®¹å™¨ç»„æˆä¸€ä¸ªappï¼ˆå¾®æœåŠ¡ï¼‰ deploymentï¼Œå…¶å®å«replica controlleræ›´åˆé€‚ã€‚é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æ‰©ç¼©pod serviceå°±æ˜¯appå¯¹å¤–çš„ä¸€ä¸ªè®¿é—®å…¥å£ã€‚ä¸€ä¸ªsvcä¸­å¯èƒ½æœ‰nä¸ªreplica nodeå°±æ˜¯éƒ¨ç½²serviceçš„èŠ‚ç‚¹  é‚£ä¹ˆåˆ°è¿™é‡Œæˆ‘æœ‰ä¸€ä¸ªå°é—®é¢˜ï¼Œæœ‰å¦‚æœæœ‰nä¸ªreplicaï¼Œé‚£ä¹ˆæµé‡è¿›æ¥äº†ä¼šè¢«åˆ†é…åˆ°å“ªä¸ªpodé‡Œå‘¢ï¼Ÿ\nkubeletæ˜¯ä»€ä¹ˆ kubeletæ˜¯nodeçš„proxyã€‚\nk8sçš„DNSæ˜¯ä»€ä¹ˆ ç»™æ¯ä¸ªsvcå¯ç”¨åœ°å€ã€‚\nï¼ˆä»¥ä¸Šä¸¤ä¸ªç™¾åº¦ç»“æœéƒ½ä¸å¤ªå¥½ï¼Œå§‘ä¸”è¿™ä¹ˆç†è§£å§ï¼‰\nå‚è€ƒ http://www.zsythink.net/archives/1199/ ï¼ˆè®²iptablesçš„å¥½æ–‡ï¼‰\n","id":14,"section":"posts","summary":"ç¯å¢ƒéƒ½æ­å¥½äº†ï¼Œä¸çŸ¥é“é‡Œé¢çš„åŸç†é‚£å¯ä¸è¡Œã€‚ æˆ‘ä¹Ÿä¸ä¼šç³»ç»Ÿå†™ï¼Œæƒ³åˆ°å“ªé‡Œå°±å†™åˆ°å“ªé‡Œå§ã€‚ istioæ˜¯å¦‚ä½•åšåˆ°æ— ä¾µå…¥å°±èƒ½æ§åˆ¶æµé‡è½¬å‘ï¼Ÿ Sidecarè¿˜æœ‰","tags":["istio"],"title":"K8s + Istio æ¦‚å¿µ","uri":"https://zecoo.github.io/hugo/2020/04/k8s-istio-%E6%A6%82%E5%BF%B5/","year":"2020"},{"content":" Prometheus åŸºæœ¬çš„metricsç›‘æµ‹æ’ä»¶ã€‚\né€šè¿‡queryæŸ¥è¯¢ä¸åŒçš„ä¿¡æ¯ï¼Œä¾‹å¦‚ä»¥ä¸‹ä¿¡æ¯å°±æ˜¯istio_requests_totalè¿™æ¡queryæŸ¥è¯¢åˆ°çš„næ¡æ•°æ®ä¸­çš„ä¸€æ¡ã€‚ï¼ˆä¸å…¨ï¼Œåˆ é™¤äº†éƒ¨åˆ†æˆ‘ä¸å…³æ³¨çš„ä¿¡æ¯ï¼‰\nistio_requests_total{destination_app=\u0026quot;productpage\u0026quot;,destination_principal=\u0026quot;spiffe://cluster.local/ns/default/sa/bookinfo-productpage\u0026quot;,destination_service=\u0026quot;productpage.default.svc.cluster.local\u0026quot;,destination_service_name=\u0026quot;productpage\u0026quot;,destination_service_namespace=\u0026quot;default\u0026quot;,destination_version=\u0026quot;v1\u0026quot;,destination_workload=\u0026quot;productpage-v1\u0026quot;,instance=\u0026quot;10.244.0.24:15090\u0026quot;,job=\u0026quot;envoy-stats\u0026quot;,namespace=\u0026quot;istio-system\u0026quot;,pod_name=\u0026quot;istio-ingressgateway-6489d9556d-bc48z\u0026quot;,response_code=\u0026quot;503\u0026quot;,source_workload=\u0026quot;istio-ingressgateway\u0026quot;,source_workload_namespace=\u0026quot;istio-system\u0026quot;}  Grafana Metricså¯è§†åŒ–æ’ä»¶ã€‚\nRequest Volumeä»£è¡¨ä»€ä¹ˆï¼Ÿ\nRequest Durationä¸­çš„P50ã€P90åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆï¼Ÿ\nJaegar ä¸»è¦æ˜¾ç¤ºè°ƒç”¨äº†å“ªäº›å¾®æœåŠ¡ï¼Œè°ƒç”¨é¡ºåºæ˜¯ä»€ä¹ˆæ ·çš„ï¼Œå“åº”æ—¶é—´æ˜¯å¤šå°‘ã€‚\nKiali é“¾è·¯è¿½è¸ªå¯è§†åŒ–æ’ä»¶ã€‚å¯ä»¥çœ‹å‡ºæœ‰å‡ ä¸ªå¾®æœåŠ¡ï¼Œè°ƒç”¨å…³ç³»æ˜¯ä»€ä¹ˆæ ·çš„ã€‚\né‡Œé¢ä¹Ÿæœ‰P50ã€P90ã€‚è¯´æ˜è¿™ä¸ªå¾ˆå…³é”®å•Šã€‚\nP90=100msï¼Œå°±æ˜¯è¯´90%çš„è¯·æ±‚å…¶å“åº”æ—¶é—´åœ¨100msä»¥å†…ï¼Œå‰©ä½™10%çš„å“åº”æ—¶é—´å¤§äº100msã€‚\nSiege å‹æµ‹å·¥å…·ã€‚æ¥çœ‹çœ‹å‹æµ‹ç»“æœ\n$ siege -d 10 -c 200 -t 2 http://121.37.159.247:32753/productpage Lifting the server siege... Transactions:\t519 hits Availability:\t99.24 % Elapsed time:\t119.34 secs Data transferred:\t20.14 MB Response time:\t9.01 secs Transaction rate:\t4.35 trans/sec Throughput:\t0.17 MB/sec Concurrency:\t39.17 Successful transactions: 519 Failed transactions:\t4 Longest transaction:\t110.01 Shortest transaction:\t0.08  æ¨¡æ‹Ÿ200ä¸ªç”¨æˆ·ï¼Œæ¯é—´éš”10mså‘é€ä¸€æ¬¡è¯·æ±‚ï¼ŒæŒç»­2åˆ†é’Ÿã€‚\nå‚è€ƒ https://blog.dianduidian.com/post/percentile-ç™¾åˆ†ä½æ•°/ï¼ˆp50ã€p90è®²è§£ï¼‰\n","id":15,"section":"posts","summary":"Prometheus åŸºæœ¬çš„metricsç›‘æµ‹æ’ä»¶ã€‚ é€šè¿‡queryæŸ¥è¯¢ä¸åŒçš„ä¿¡æ¯ï¼Œä¾‹å¦‚ä»¥ä¸‹ä¿¡æ¯å°±æ˜¯istio_requests_totalè¿™æ¡queryæŸ¥è¯¢åˆ°çš„","tags":["istio","prom"],"title":"Istio å¯è§†åŒ–æ’ä»¶æ¦‚è§ˆ","uri":"https://zecoo.github.io/hugo/2020/04/istio-%E5%8F%AF%E8%A7%86%E5%8C%96%E6%8F%92%E4%BB%B6%E6%A6%82%E8%A7%88/","year":"2020"},{"content":" å¦‚æœæ˜¯Microk8så®‰è£…ï¼Œå¾ˆç®€å•å°±ä¸€æ­¥ï¼š\nmicrok8s.enable istio  å¥½åƒpull istioé•œåƒçš„è¿‡ç¨‹ç‰¹åˆ«æ¼«é•¿ã€‚ç”±äºç”¨çš„æ˜¯åŠ›çš„2gæœåŠ¡å™¨ï¼Œåˆ°è¿™é‡Œå†…å­˜çˆ†ç‚¸ï¼Œç”¨ä¸äº†äº†ã€‚\nç„¶åè½¬æˆ˜åä¸ºäº‘15å¤©4gæœåŠ¡å™¨è¯•ç”¨ã€‚\nç”¨Kubeadmå®‰è£…k8sï¼Œè¿‡ç¨‹å‘¢ï¼Œåœ¨å¦ä¸€ç¯‡åšå®¢ä¸­ã€‚\nè¿™é‡Œä¸»è¦å›é¡¾Kubeadmå®‰è£…istioä»¥åŠå„ç§å¯è§†åŒ–æ’ä»¶çš„è¿‡ç¨‹ã€‚\nå…¨ç¨‹è¯·æŠŠç²¾åŠ›é›†ä¸­åœ¨istioçš„å®˜ç½‘ä¸Šã€‚æ¯ä¸ªæ•™ç¨‹éƒ½å¾ˆè¯¦ç»†ã€‚\nä¸‹è½½taråŒ…ï¼Œç„¶åè§£å‹å¾—åˆ°istio-15.2ç›®å½•ã€‚è¿™ä¸ªç›®å½•é‡ŒåŒ…å«éœ€è¦éƒ¨ç½²çš„yamlæ–‡ä»¶ä»¥åŠbookinfoçš„å®ä¾‹ã€‚\nç„¶åæŒ‰ç…§istioå®˜æ–¹çš„æ•™ç¨‹å»å®‰è£…å°±OKäº†ã€‚\né‡ç‚¹å‘¢ï¼Œæ˜¯å„ç§å¯è§†åŒ–æ’ä»¶çš„éƒ¨ç½²ã€‚å¦‚æœistioéƒ¨ç½²é¡ºåˆ©çš„è¯ï¼Œå„ç§æ’ä»¶çš„svcå·²ç»å¯åŠ¨äº†ï¼Œå¯ä»¥get svcæŸ¥çœ‹ä¸€ä¸‹ã€‚ä½†æ˜¯åˆ°ç›®å‰ä¸ºæ­¢è¿˜æ˜¯åªèƒ½åœ¨é›†ç¾¤å†…è®¿é—®ã€‚è®¿é—®çš„å…¥å£æ˜¯istio-ingressgatewayã€‚ç„¶åæŒ‰ç…§istioå®˜æ–¹ç»™å‡ºçš„è¿œç¨‹è®¿é—®æ–¹å¼å»éƒ¨ç½²å°±å¥½äº†ã€‚è¿™é‡Œå”¯ä¸€ä¸€ä¸ªå’Œå®˜æ–¹ç»™å‡ºçš„æ•™ç¨‹ä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œä»¥Prometheusä¸ºä¾‹ï¼Œå®˜æ–¹ç»™å‡ºçš„è®¿é—®åœ°å€æ˜¯ï¼š\n Prometheus: http://\u0026lt;IP ADDRESS OF CLUSTER INGRESS\u0026gt;:15030/  è¿™é‡Œçš„ingressipè¦æ”¹ä¸º\n[æœåŠ¡å™¨åœ°å€] + [svc istioingressgatewayå¯¹äº15030æš´éœ²çš„ç«¯å£]\nç„¶åå°±å¯ä»¥ç”¨ä¸Šé¢çš„åœ°å€è®¿é—®åˆ°Prometheusäº†ã€‚\nå½“ç„¶æˆ‘è¿˜æœåˆ°äº†å¦å¤–ä¸€ç§æ–¹å¼è®¿é—®ï¼ŒæŠŠPrometheusç”¨å¦ä¸€ä¸ªsvcåŒ…è£¹èµ·æ¥ï¼Œç›¸å½“äºå¤šäº†ä¸€ä¸ªnodeport svcçš„ä¸­ä»‹ã€‚è¾“å…¥è¿™ä¸ªå‘½ä»¤å³å¯ï¼š\nkubectl expose service prometheus --type=NodePort \\ --name=prometheus-svc --namespace istio-system  ç„¶åå°±ä¼šå¤šå‡ºæ¥ä¸€ä¸ªåä¸ºprometheus-svcçš„nodeportå½¢å¼çš„æœåŠ¡ã€‚è°ƒç”¨è¿™ä¸ªæœåŠ¡æš´éœ²å‡ºæ¥çš„åœ°å€å°±å¯ä»¥è®¿é—®Prometheusï¼Œåªæ˜¯æˆ‘è§‰å¾—è¿™ä¸ªæ–¹æ³•å¯èƒ½ä¸å¤ªå®‰å…¨ï¼Œå°±æ²¡æœ‰ç”¨ã€‚\nå‚è€ƒ https://www.jianshu.com/p/b72c1e06b140 ï¼ˆå®‰è£…æŒ‡å—ï¼‰\nhttps://www.cnblogs.com/assion/p/11326088.html ï¼ˆä¿®æ”¹istiogatewayçš„LBä¸ºnodeportï¼‰\nhttps://www.jianshu.com/p/b72c1e06b140 ï¼ˆç”¨hello-nodeåšç¤ºä¾‹ï¼‰\nhttps://www.cnblogs.com/davidwang456/articles/9311470.html ï¼ˆSLAå’ŒSLOçš„å…³ç³»ï¼‰\nhttps://www.jianshu.com/p/fd90d4914505 ï¼ˆistioçš„è‰¯å¥½å®è·µï¼‰\nhttps://www.jianshu.com/p/bed143a1c886 ï¼ˆä¼°è®¡ä¹Ÿæ˜¯ä¸ªç ”ç©¶ç”Ÿå¤§ç¥ï¼Œç»™ç‹è€å¸ˆæ¼”ç¤ºè¿™ä¸ªå°±å¯ä»¥äº†ï¼‰\nhttps://www.cnblogs.com/CCE-SWR/p/10286404.html ï¼ˆä¹Ÿæ˜¯æ¼”ç¤ºä¹‹ç”¨ï¼‰\nhttps://www.ibm.com/support/knowledgecenter/en/SSBS6K_2.1.0.3/manage_cluster/istio.html ï¼ˆå¦ä¸€ç§æš´éœ²Prometheusçš„æ–¹å¼ï¼‰\n","id":16,"section":"posts","summary":"å¦‚æœæ˜¯Microk8så®‰è£…ï¼Œå¾ˆç®€å•å°±ä¸€æ­¥ï¼š microk8s.enable istio å¥½åƒpull istioé•œåƒçš„è¿‡ç¨‹ç‰¹åˆ«æ¼«é•¿ã€‚ç”±äºç”¨çš„æ˜¯åŠ›çš„2gæœåŠ¡å™¨ï¼Œåˆ°è¿™é‡Œå†…å­˜çˆ†ç‚¸ï¼Œç”¨ä¸äº†äº†ã€‚","tags":["istio","hello-world"],"title":"Istio å®‰è£…å›é¡¾","uri":"https://zecoo.github.io/hugo/2020/04/istio-%E5%AE%89%E8%A3%85%E5%9B%9E%E9%A1%BE/","year":"2020"},{"content":" è£…å¥½çš„é‚£ä¸€ç¬é—´ï¼Œæˆ‘æ„ŸåŠ¨å¾—è¦å“­äº†ã€‚æˆ‘ç°åœ¨ä¹Ÿç®—åŠä¸ªk8sè¿ç»´å°èƒ½æ‰‹äº†å§ã€‚\nå®‰è£…K8sæœ‰è¿™å‡ ç§æ–¹æ³•\n minikube mircok8s kubeadm  è¿™ä¸‰ç§æ–¹æ³•æˆ‘éƒ½ç”¨è¿‡ã€‚minikubeåœ¨winä¸Šä»¥è™šæ‹Ÿæœºçš„å½¢å¼è¿è¡Œï¼ŒæŒºéº»çƒ¦çš„è®²é“ç†ã€‚microk8sæ˜¯æœ€å‹å¥½çš„æ–¹å¼ï¼Œè§£å†³ä¸€ä¸ªæ‹‰é•œåƒçš„é—®é¢˜ï¼Œä¹Ÿå°±ä¸æˆé—®é¢˜äº†ã€‚kubeadmåº”è¯¥æ˜¯æœ€éº»çƒ¦çš„äº†ã€‚\nå›å½’æ­£é¢˜ï¼Œè®°å½•æ•´ä¸ªå®‰è£…ä»¥åŠå¡«å‘çš„è¿‡ç¨‹ã€‚\nç¬¬ä¸€æ­¥ï¼Œkubeletã€kubeadmã€kubectlã€kubernetes-cniä¸€å¥—å®‰è£…ä¸‹æ¥ã€‚\næˆ‘ç°åœ¨æ‰çœ‹åˆ°å‚è€ƒ1ä¸­çš„ä¸€å¥è¯ï¼š\n# æŒ‡å®šç‰ˆæœ¬å¦åˆ™éƒ½ä¼šé»˜è®¤å®‰è£…åº“ä¸­æœ€æ–°ç‰ˆæœ¬ï¼Œä¼šå› ä¸ºå½¼æ­¤ä¾èµ–çš„ç‰ˆæœ¬ä¸åŒå®‰è£…å¤±è´¥ $ yum install -y kubelet-1.13.1 kubeadm-1.13.1 kubectl-1.13.1 kubernetes-cni-0.6.0 # è®¾ç½®å¼€æœºå¯åŠ¨å¹¶å¯åŠ¨kubelet $ systemctl enable kubelet \u0026amp;\u0026amp; systemctl start kubelet  çœ‹åˆ°ç¬¬ä¸€å¥è¯äº†å—ï¼Ÿç»™æˆ‘å¤§å£°è¯»å‡ éï¼ï¼æˆ‘å°±æ˜¯å› ä¸ºè¿™ä¸ªï¼Œåƒäº†å¤šå°‘äºï¼Œæœç´¢å¤šå°‘èµ„æ–™ğŸ˜­ã€‚\nç¬¬äºŒæ­¥ï¼Œkubeadm config images liståˆ—å‡ºæ‰€æœ‰éœ€è¦çš„imageï¼Œå› ä¸ºå›½å†…ç½‘ç»œé—®é¢˜å˜›ï¼Œä¸€æ ·çš„ã€‚ç„¶åç”¨å‚è€ƒ1é‡Œçš„bashè„šæœ¬å®‰è£…å¥½ï¼Œdocke imagesæ£€æŸ¥ä¸€ä¸‹ã€‚\nç¬¬ä¸‰æ­¥ï¼Œkubeadm init --pod-network-cidr=10.244.0.0/16åˆå§‹åŒ–kubeadmã€‚è¿™ä¸€æ­¥æœ€é‡è¦çš„æ˜¯/etc/kubernetes/admin.confè¿™ä¸ªæ–‡ä»¶ã€‚è¿˜æœ‰åé¢é‚£ä¸ªå‚æ•°ï¼Œå¦‚æœä¸åŠ ä¸Šï¼Œå°±ä¼šé‡åˆ°æ–°çš„å‘å“¦ï½\ninitç»“æŸä¹‹åï¼Œä¸è¦å¿˜äº†æç¤ºçš„ä¸‰è¡Œå‘½ä»¤\nmkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/config  ç¬¬å››æ­¥ï¼Œåˆ°äº†è¿™é‡Œï¼Œæˆ‘ä»¬å‘ç°æ‰€æœ‰çš„podéƒ½è¿è¡ŒæŒºå¥½çš„ï¼Œé™¤äº†corednsã€‚ä½†æ˜¯é•œåƒä¹Ÿéƒ½ä¸‹è½½å¥½äº†ï¼Œä¸ºä»€ä¹ˆå®å°±æ¯”è¾ƒç‰¹æ®Šå‘¢ï¼Ÿç„¶åæˆ‘describeäº†ä¸€ä¸‹ï¼Œå‘ç°å’Œflannelæœ‰å…³ã€‚\næ‰€ä»¥å•¦ï¼Œå°±æ˜¯è¦å…ˆæŠŠflannelç»™éƒ¨ç½²å¥½ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€ä¸ªå‘ï¼Œflannelæ˜¯quay.ioåº“çš„é•œåƒï¼Œå›½å†…ä¹Ÿæ˜¯è®¿é—®ä¸åˆ°çš„ï¼Œè¿˜æ˜¯è¦æ¢ä¸ªé•œåƒå“ˆã€‚è¿˜æœ‰åˆšæ‰æåˆ°çš„initåé¢çš„å‚æ•°ï¼Œå¦‚æœæ²¡æœ‰æ·»åŠ è¿™ä¸ªå‚æ•°çš„è¯ï¼Œflanneléƒ¨ç½²ä¹Ÿä¼šå‡ºé—®é¢˜çš„ğŸ˜Šã€‚å¥½çš„ï¼Œflannelè§£å†³æ‰ï¼Œcorednsä¹Ÿå°±é©¬ä¸Šéƒ¨ç½²å¥½äº†ã€‚\næœ€åä¸€å¥—æ£€æŸ¥ä¸€ä¸‹\nkubectl get node kubectl get sc kubectl get pod --all-namespaces  å‚è€ƒ https://blog.csdn.net/zjcjava/article/details/99317569 ï¼ˆæˆ‘æŒ‰ç…§è¿™ç¯‡æ¥è£…çš„ï¼ï¼‰\nhttps://blog.csdn.net/woay2008/article/details/93250137 ï¼ˆä¸‰è¡Œå‘½ä»¤æ²¡æ•²èƒ½æŠŠäººæ„æ­»ï¼‰\nhttps://www.cnblogs.com/gscienty/p/10586118.html ï¼ˆç®€æ´ç‰ˆå®‰è£…è¿‡ç¨‹ï¼‰\nhttps://www.kubernetes.org.cn/5462.html ï¼ˆå¸¦dashboardçš„æ•™ç¨‹ï¼‰\nhttps://www.cnblogs.com/caibao666/p/11664726.html ï¼ˆflannelçš„é‚£ä¸ªå‘ï¼‰\nhttps://blog.csdn.net/u012547633/article/details/103846564 ï¼ˆå¦ä¸€ä¸ªä¹Ÿå–œæ¬¢è®°å½•çš„å°ä¼™ä¼´ï¼‰\nhttps://www.cnblogs.com/qq952693358/p/6537846.html ï¼ˆE: Unable to lock directory /var/lib/apt/lists/ é”™è¯¯ï¼‰\n","id":17,"section":"posts","summary":"è£…å¥½çš„é‚£ä¸€ç¬é—´ï¼Œæˆ‘æ„ŸåŠ¨å¾—è¦å“­äº†ã€‚æˆ‘ç°åœ¨ä¹Ÿç®—åŠä¸ªk8sè¿ç»´å°èƒ½æ‰‹äº†å§ã€‚ å®‰è£…K8sæœ‰è¿™å‡ ç§æ–¹æ³• minikube mircok8s kubeadm è¿™ä¸‰ç§æ–¹æ³•æˆ‘éƒ½ç”¨è¿‡ã€‚minikubeåœ¨win","tags":["k8s","kubeadm"],"title":"Kubeadm å®‰è£…è®°å½•","uri":"https://zecoo.github.io/hugo/2020/04/kubeadm-%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/","year":"2020"},{"content":" æ¯å¤©æ£é¼“k8så°±æ˜¯å„ç§å¡«å‘ã€‚ä¸è¿‡åœ¨æŸ¥é—®é¢˜è§£å†³åŠæ³•çš„æ—¶å€™æœ‰ä¸ªäººè¯´\n é‡åˆ°å‘ä¸è¦æ€•ï¼Œç™¾åº¦è°·æ­Œå°±æ˜¯äº†ã€‚å¡«å®Œäº†å‘ï¼Œå†è¸©ä¸¤è„šï¼Œä»¥åèµ°èµ·æ¥å°±å¹³äº†ã€‚\n è¯´å¾—çœŸå¥½ã€‚çˆ†ç‚¸çš„å¿ƒæ€æ…¢æ…¢ä¹Ÿå°±å¹³å¤äº†ã€‚\nå›å½’æ­£é¢˜ï¼Œå‘é•¿è¿™ä¸ªæ ·å­ï¼š\nkubectl -f apply any.yaml  éƒ½ä¼šæŠ¥é”™ï¼š\nError from server (NotFound): the server could not find the requested resource  ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºæ˜¯apiserverçš„é—®é¢˜ï¼Œä½†æ˜¯apiserveræ˜¯æ­£å¸¸è¿è¡Œçš„ã€‚æœç´¢äº†å¾ˆé•¿æ—¶é—´ï¼Œè¿˜æ˜¯åœ¨yandexä¸Šæœç´¢åˆ°å¯èƒ½æ˜¯Kubectl cliå’Œserverçš„ç‰ˆæœ¬å·®è·è¿‡å¤§é€ æˆçš„é—®é¢˜ã€‚\nçœ‹ä¸€ä¸‹æˆ‘çš„ä¸¤ä¸ªç‰ˆæœ¬ï¼škubectl version\nClient Version: version.Info{Major:\u0026quot;1\u0026quot;, Minor:\u0026quot;9\u0026quot;, GitVersion:\u0026quot;v1.9.3\u0026quot;, GitCommit:\u0026quot;5fa2db2bd46ac79e5e00a4e6ed24191080aa463b\u0026quot;, GitTreeState:\u0026quot;clean\u0026quot;, BuildDate:\u0026quot;2018-01-18T21:12:46Z\u0026quot;, GoVersion:\u0026quot;go1.9.2\u0026quot;, Compiler:\u0026quot;gc\u0026quot;, Platform:\u0026quot;darwin/amd64\u0026quot;} Server Version: version.Info{Major:\u0026quot;1\u0026quot;, Minor:\u0026quot;16\u0026quot;, GitVersion:\u0026quot;v1.17.5\u0026quot;, GitCommit:\u0026quot;72c30166b2105cd7d3350f2c28a219e6abcd79eb\u0026quot;, GitTreeState:\u0026quot;clean\u0026quot;, BuildDate:\u0026quot;2020-01-18T23:23:21Z\u0026quot;, GoVersion:\u0026quot;go1.13.5\u0026quot;, Compiler:\u0026quot;gc\u0026quot;, Platform:\u0026quot;linux/amd64\u0026quot;}  å¯ä»¥çœ‹åˆ°cliçš„ç‰ˆæœ¬æ˜¯v1.9.3ï¼Œè€Œserverçš„ç‰ˆæœ¬æ˜¯1.17.5ã€‚å·®çš„å¤ªå¤šäº†ã€‚\nç»§ç»­æœç´¢å¦‚ä½•å‡çº§kubectl cliä¹‹ï¼Œç™¾åº¦å°±åˆ«æƒ³èƒ½æ‰¾åˆ°ç­”æ¡ˆäº†ã€‚åœ¨k8så®˜ç½‘æ‰¾åˆ°äº†å®‰è£…kubectlçš„æ–¹æ³•ï¼Œé‡æ–°å®‰è£…äº†ä¸€ä¸‹ï¼Œkubectl cliçš„ç‰ˆæœ¬å°±å‡çº§åˆ°æœ€æ–°v1.18.5äº†ã€‚\nè¿™ä¸‹å†è¯•ä¸€ä¸‹\nkubectl apply -f anyfile.yaml  ç»ˆäºå¯ä»¥è¿è¡Œyamlæ–‡ä»¶äº†ã€‚\nå‚è€ƒ https://kubernetes.io/docs/tasks/tools/install-kubectl/#before-you-begin ï¼ˆå‡çº§kubectl cliï¼‰\nhttps://devops.stackexchange.com/questions/2956/how-do-i-get-kubernetes-to-work-when-i-get-an-error-the-server-could-not-find-t ï¼ˆå‘å‡ºç°çš„åŸå› 1ï¼‰\nhttps://www.digitalocean.com/community/questions/kubectl-apply-f-deployment-yml-the-server-could-not-find-the-requested-resource ï¼ˆå‘å‡ºç°çš„åŸå› 2ï¼‰\n","id":18,"section":"posts","summary":"æ¯å¤©æ£é¼“k8så°±æ˜¯å„ç§å¡«å‘ã€‚ä¸è¿‡åœ¨æŸ¥é—®é¢˜è§£å†³åŠæ³•çš„æ—¶å€™æœ‰ä¸ªäººè¯´ é‡åˆ°å‘ä¸è¦æ€•ï¼Œç™¾åº¦è°·æ­Œå°±æ˜¯äº†ã€‚å¡«å®Œäº†å‘ï¼Œå†è¸©ä¸¤è„šï¼Œä»¥åèµ°èµ·æ¥å°±å¹³äº†ã€‚ è¯´å¾—çœŸå¥½ã€‚","tags":["k8s","kubectl"],"title":"Kubectl client å’Œ server version å·®è·é”™è¯¯","uri":"https://zecoo.github.io/hugo/2020/04/kubectl-client-%E5%92%8C-server-version-%E5%B7%AE%E8%B7%9Dbug/","year":"2020"},{"content":" åšè¿™ä¸ªä»»åŠ¡çš„æ—¶å€™æˆ‘ä¸€åº¦æƒ³è¦æ”¾å¼ƒã€‚å› ä¸ºåŸºç¡€ä¸ç‰¢ï¼Œè§‰å¾—è¿™ä¸œè¥¿å¯¹æˆ‘æ¥è¯´æœ‰ç‚¹éš¾å•Šã€‚ç»“æœç£•ç£•ç»Šç»Šå€Ÿé‰´DIYgodçš„ç½‘é¡µåšå‡ºæ¥ä¹‹åï¼Œå‘ç°è¿™ä¸œè¥¿çœŸtmæ˜¯åŸºç¡€ã€‚\næˆ‘ä¹Ÿç™¾åº¦äº†ä¸€ä¸‹ï¼Œå‘ç°å†™task0002_5çš„åšå®¢å°‘ä¹‹åˆå°‘ï¼Œè¯´æ˜ifeçš„ä»»åŠ¡2åˆ°è¿™é‡Œï¼ŒåŸºæœ¬ä¸Šå·²ç»æ²¡æœ‰å¾ˆå¤šäººåœ¨åšäº†ã€‚\nçæ€»ç»“ é¦–å…ˆè¦äº†è§£äº‹ä»¶æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚åœ¨è¿™ä¸ªä»»åŠ¡é‡Œé¢ï¼Œè¦ç›‘å¬çš„æ˜¯\n æ»‘å—è¢«æ‹–åŠ¨æ—¶çš„ä½ç½® dragStart(e) æ»‘å—å¤„äºæ‹–åŠ¨çŠ¶æ€ dragging(e) æ»‘å—æœ€åæ”¾ç½®çš„ä½ç½® drop(e)  è€Œåœ¨jsé‡Œï¼Œæœ‰ä¸“é—¨é’ˆå¯¹æ‹–åŠ¨çš„ç›‘å¬äº‹ä»¶*dragStart*å’Œ*drop*æ–¹æ³•ã€‚\nè®©æ»‘å—åŠ¨èµ·æ¥ é¦–å…ˆè¦ç»™æ»‘å—è®¾ç½®draggable=trueï¼Œç„¶åå°±ä¼šç¥å¥‡å¾—å‘ç°æ»‘å—çœŸçš„å¯ä»¥æ‹–åŠ¨äº†ã€‚ç•™ä¸‹ä¸€ä¸ªæ®‹å½±åœ¨åŸæ¥çš„ä½ç½®ã€‚ä½†æ˜¯ä¹Ÿä¼šç¥å¥‡å¾—å‘ç°é¼ æ ‡ä¸€æ¾å¼€è¿˜æ˜¯è¦æ‰“å›åŸå½¢ã€‚\nå…ˆåšç¬¬ä¸€ä¸ªåŠ¨ç”»ï¼Œæ‹–åŠ¨ä¸€ä¸ªæ»‘å—Açš„æ—¶å€™ï¼Œé¦–å…ˆAè¦åœ¨wrapä¸­æ¶ˆå¤±ã€‚å¯ä»¥ç”¨cssæ·»åŠ ä¸€ä¸ªclass draggingï¼Œè®¾ç½®display=noneã€‚ç›‘å¬æ»‘å—å¤„åœ¨æ‹–åŠ¨çš„çŠ¶æ€æ—¶ï¼Œå°±æ˜¯ä¸å¯è§çš„ã€‚è€Œä¸€æ—¦è½äº†è„šï¼Œè¦ç§»é™¤è¿™ä¸ªclassã€‚é‡æ–°å›åˆ°å¯è§çŠ¶æ€ã€‚\nç¬¬ä¸€ä¸ªåŠ¨ç”»åšå®Œï¼Œå¯ä»¥å‘ç°ï¼Œæ‹–åŠ¨Aï¼ŒAä¸‹é¢çš„æ»‘å—ä¼šè‡ªåŠ¨è¡¥ä¸ŠAçš„ä½ç½®ã€‚æ¾å¼€é¼ æ ‡ä¾æ—§æ‰“å›åŸå½¢ã€‚\nå•ä¸ªå®¹å™¨æ‹–åŠ¨æ•ˆæœ ç„¶åå°è¯•åšå•ä¸ªå®¹å™¨å†…æ»‘å—çš„æ‹–åŠ¨æ•ˆæœã€‚ç¬¬äºŒä¸ªåŠ¨ç”»è¯¥è€ƒè™‘æŠŠè¦ç§»åŠ¨çš„æ»‘å—Aæ’åˆ°åˆé€‚çš„åœ°æ–¹ã€‚è¿™é‡Œé¢æœ‰è¿™æ ·å‡ æ­¥\n è·å–å½“å‰æ»‘å—Açš„ä¸­å¿ƒç›¸å¯¹å®¹å™¨çš„åæ ‡ã€‚å¾—å‡ºæ’å…¥ç¬¬kæ ¼ å°†Aæ’å…¥æŒ‡å®šä½ç½® Aä¸‹é¢çš„æ»‘å—å‡å‘ä¸‹ç§»åŠ¨ä¸€æ ¼  æˆ‘åœ¨è¿™é‡Œå·äº†ä¸ªæ‡’ï¼Œä»…æ ¹æ®dropäº‹ä»¶å½“å‰çš„é¼ æ ‡ä½ç½®æ¥åˆ¤æ–­æ’å…¥å“ªä¸€æ ¼ã€‚å…·ä½“ç»†èŠ‚å…ˆä¸è¿½ç©¶ï¼Œæ¯•ç«Ÿè¿˜è¦æŠ“ç´§å­¦vueçš„çŸ¥è¯†ã€‚2ã€3æ­¥ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œè®©æ¯ä¸ªæ»‘å—position=absoluteï¼Œç„¶åè®¾ç½®ä¸€ä¸ªtopå€¼ï¼Œå°±å¯ä»¥æ§åˆ¶æ»‘å—çš„ç§»åŠ¨äº†ã€‚\nå¤šå®¹å™¨æ‹–åŠ¨æ•ˆæœ æœ€åå°†å•å®¹å™¨æ‹“å±•åˆ°åŒå®¹å™¨ç”šè‡³å¤šå®¹å™¨ï¼Œå…¶å®ä»…æ¯”å•å®¹å™¨å¤šäº†ä¸€æ­¥ï¼Œå°±æ˜¯æ ¹æ®æ»‘å—dropçš„ä¸­å¿ƒä½ç½®åˆ¤æ–­è½åœ¨å“ªä¸ªå®¹å™¨ã€‚\nè¸©å‘è®° æˆ‘å†™å›é¡¾ä¸»è¦æ˜¯æƒ³è®°ä¸€ä¸‹è‡ªå·±è¸©çš„å‘ã€‚\n$.on(document.body, 'dragover', dragOver);  æ²¡é”™ï¼Œå…¨åœ¨è¿™ä¸€è¡Œä»£ç é‡Œäº†ã€‚\n$.onæ˜¯util.jsé‡ŒaddEvent(element, event, listener)çš„å°è£…ã€‚\n elementï¼Œå°±æ˜¯ç›‘å¬å¯¹è±¡ã€‚æˆ‘åœ¨åšdropæ•ˆæœçš„æ—¶å€™ï¼Œæ‰“æ­»éƒ½å‡ºä¸æ¥ã€‚éšä¾¿ä¸€æ‹–åŠ¨ï¼Œæ»‘å—å°±æ²¡äº†ã€‚æœ€åå®šä½åˆ°æ˜¯elementçš„é—®é¢˜ï¼Œæˆ‘æ‰“å¼€htmlæ£€æŸ¥å™¨ï¼Œå‘ç°è‡ªå·±æ²¡æœ‰å®šä¹‰containerçš„é«˜åº¦ï¼Œç»“æœå°±æ˜¯æ•´ä¸ªbodyåªæœ‰ä¸€ä¸¢ä¸¢é«˜ï¼Œå¹¶æ²¡æœ‰æŠŠå®¹å™¨åŒ…æ‹¬è¿›å»ã€‚æ‰€ä»¥æˆ‘æ‹–åŠ¨çš„æ»‘å—ï¼Œå…¶å®åœ¨ç›‘å¬å¯¹è±¡bodyä¹‹å¤–ã€‚é‚£è‚¯å®šæ˜¯æ²¡å¾—æ•ˆæœå’¯ã€‚ eventï¼Œè¿™â€¦æˆ‘æœ¬æ¥ä»¥ä¸ºæ²¡å•¥å®é™…æ„ä¹‰çš„å‚æ•°ï¼Œåˆç»™æˆ‘æ ½ä¸€å¤§è·Ÿå¤´ï¼Œè®©æˆ‘ä¸å¥½å¥½çœ‹æ–‡æ¡£å…ˆå­¦ä¹ ç”¨æ³•ã€‚eventè¦å’Œlisteneræ–¹æ³•åä¸€è‡´ï¼Œå¹¶ä¸”å…¨éƒ¨å°å†™ã€‚ dragOveråˆ«çœ‹å°±ä¸€è¡Œä»£ç ï¼Œe.preventDefault();ï¼Œè¿™æ˜¯ä¸ºäº†é˜²æ­¢æµè§ˆå™¨æ‹–åŠ¨ç»“æŸæ²¡æ¥å¾—åŠdropå°±ç»“æŸç›‘å¬ã€‚ä¸ç„¶åˆä¼šé‡åˆ°ä¸€æ‹–åŠ¨æ»‘å—å°±æ¶ˆå¤±äº†çš„æƒ…å†µã€‚  ä»¥ä¸Šã€‚\nå‚è€ƒ https://www.runoob.com/jsref/event-ondrag.html ï¼ˆèœé¸ŸonDragäº‹ä»¶ï¼‰\nhttps://www.jianshu.com/p/2dfb870e0b88 ï¼ˆæœ¬ä»»åŠ¡ç±»å‹ï¼‰\n","id":19,"section":"posts","summary":"åšè¿™ä¸ªä»»åŠ¡çš„æ—¶å€™æˆ‘ä¸€åº¦æƒ³è¦æ”¾å¼ƒã€‚å› ä¸ºåŸºç¡€ä¸ç‰¢ï¼Œè§‰å¾—è¿™ä¸œè¥¿å¯¹æˆ‘æ¥è¯´æœ‰ç‚¹éš¾å•Šã€‚ç»“æœç£•ç£•ç»Šç»Šå€Ÿé‰´DIYgodçš„ç½‘é¡µåšå‡ºæ¥ä¹‹åï¼Œå‘ç°è¿™ä¸œè¥¿çœŸtmæ˜¯åŸº","tags":["js","ife"],"title":"IFE task0002_5 å›é¡¾","uri":"https://zecoo.github.io/hugo/2020/04/ife-task0002_5-%E5%9B%9E%E9%A1%BE/","year":"2020"},{"content":" ç›®æ ‡ æœ€å°(å¤§)åŒ–ä¸€ä¸ªæ²¡æœ‰å…·ä½“è¡¨è¾¾å¼çš„å‡½æ•°ã€‚\nä¸¾ä¸ªä¾‹å­ ç»™å®šä¸€ä¸ªå‡½æ•° $$ f(x,y) = -x^2 - (y-1)^2 +1 $$\nBOé€šè¿‡å‡ æ¬¡è¿­ä»£æ‰¾åˆ°èƒ½è®© f(x,y) æœ€å°çš„xå’Œyçš„å€¼ã€‚\nåæ§½ä¸€ä¸‹ ä¸­æ–‡çš„ç§‘æ™®ç¯å¢ƒèƒ½ä¸èƒ½å†å·®ä¸€ç‚¹ï¼Ÿéƒ½å°¼ç›æ˜¯ç§€æ™ºå•†çš„ã€‚\nä¸€ä¸ªç®€å•çš„ä¸œè¥¿è®²å¾—å·¨é¸¡å„¿å¤æ‚ï¼Œè¿˜è§‰å¾—è‡ªå·±æŠ–æœºçµæŒºå¯çˆ±çš„ã€‚è¯´å¾—å°±æ˜¯è¿™ç¯‡åšå®¢ã€‚\nå¹¸å¥½è®©æˆ‘é‡åˆ°äº†è¿˜ç®—å¯ä»¥çš„å¦ä¸€ç¯‡åšå®¢ã€‚\nå½“ç„¶éƒ½ä¸åŠè€å¤–çš„blogã€‚\næˆ‘çœŸçš„ä¸æ˜¯å´‡æ´‹åªšå¤–ã€‚å°±æ˜¯åœ¨è®²ä¸€ä¸ªäº‹å®ã€‚ç§‘å­¦çš„èŒƒç•´ï¼Œä¸­æ–‡ä¼˜ç§€åšå®¢å°‘å¾—å¯æ€œã€‚è‡³å°‘ç™¾åº¦å‡ºæ¥çš„æ˜¯è¿™æ ·ã€‚\n","id":20,"section":"posts","summary":"ç›®æ ‡ æœ€å°(å¤§)åŒ–ä¸€ä¸ªæ²¡æœ‰å…·ä½“è¡¨è¾¾å¼çš„å‡½æ•°ã€‚ ä¸¾ä¸ªä¾‹å­ ç»™å®šä¸€ä¸ªå‡½æ•° $$ f(x,y) = -x^2 - (y-1)^2 +1 $$ BOé€šè¿‡å‡ æ¬¡è¿­ä»£æ‰¾åˆ°èƒ½è®© f(x,y) æœ€å°çš„xå’Œyçš„å€¼ã€‚ åæ§½ä¸€ä¸‹ ä¸­æ–‡çš„ç§‘æ™®","tags":["math"],"title":"Bayesian Optimization ç›´è§‚ç†è§£","uri":"https://zecoo.github.io/hugo/2020/04/bayesian-optimization/","year":"2020"},{"content":" ä¸Šä¸€èŠ‚è®²åˆ°ç°åœ¨å¯ä»¥åœ¨vpsä¸Šè®¿é—®åˆ°hello-worldäº†ã€‚\nç„¶è€Œæˆ‘æƒ³æŠŠè®¿é—®æ“ä½œæ”¾åœ¨æˆ‘çš„ç”µè„‘ä¸Šã€‚æˆ‘æ²¡æœ‰æƒ³åˆ°NodePortè¿™ä¹ˆå®¹æ˜“å°±èƒ½åšåˆ°äº†ã€‚ä¿®æ”¹ä¸€ä¸‹service.yamlé‡Œé¢portçš„typeï¼Œä»ClusterIPæ”¹ä¸ºNodePortå°±å¯ä»¥äº†ã€‚\nåˆ°è¿™é‡Œæˆ‘å·²ç»å¾ˆæ»¡è¶³äº†ï¼Œä½†æ˜¯æ‰‹ç—’ç—’æƒ³è¦çœ‹çœ‹dashboardçš„æƒ…å†µã€‚é¦–å…ˆå˜›ï¼Œå¾—å…ˆæŠŠdashboardæœåŠ¡ç»™å¯åŠ¨èµ·æ¥å¯¹ä¸å¯¹ï¼Ÿä¸å¹¸çš„æ˜¯ï¼Œåœ¨ä¹‹å‰è£…microk8sçš„æ—¶å€™ï¼Œæˆ‘ä½¿ç”¨äº†è¿™æ ·ä¸€è¡Œå‘½ä»¤æ·»åŠ äº†dnså’Œdashboardè¿™ä¸¤ä¸ªadd-on\nkubectl enable dns dashboard  ç»“æœå°±æ˜¯ï¼Œdashboardå…¶å®å·²ç»å¯åŠ¨äº†ï¼Œåªæ˜¯æˆ‘ä¸€ç›´ä½¿ç”¨çš„å‘½ä»¤\nkubectl get svc  åªèƒ½æ˜¾ç¤ºnamespaceä¸ºdefaultçš„serviceï¼Œå°±çœ‹ä¸åˆ°dashboardä¹Ÿå·²ç»å¯åŠ¨äº†ã€‚\nå¦‚æœæƒ³è¦æŸ¥çœ‹æ‰€æœ‰çš„svcè¿˜æ˜¯æ·»åŠ --all-namespacesé€‰é¡¹ã€‚\nubuntu@VM-0-12-ubuntu:~$ sudo kubectl get svc --all-namespaces NAMESPACE NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE container-registry registry NodePort 10.152.183.11 \u0026lt;none\u0026gt; 5000:32000/TCP 13d default hello-node NodePort 10.152.183.14 \u0026lt;none\u0026gt; 8080:31908/TCP 4d4h default kubernetes ClusterIP 10.152.183.1 \u0026lt;none\u0026gt; 443/TCP 13d kube-system dashboard-metrics-scraper ClusterIP 10.152.183.247 \u0026lt;none\u0026gt; 8000/TCP 13d kube-system heapster ClusterIP 10.152.183.227 \u0026lt;none\u0026gt; 80/TCP 13d kube-system kube-dns ClusterIP 10.152.183.10 \u0026lt;none\u0026gt; 53/UDP,53/TCP,9153/TCP 13d kube-system kubernetes-dashboard NodePort 10.152.183.31 \u0026lt;none\u0026gt; 443:32570/TCP 13d kube-system monitoring-grafana ClusterIP 10.152.183.21 \u0026lt;none\u0026gt; 80/TCP 13d kube-system monitoring-influxdb ClusterIP 10.152.183.102 \u0026lt;none\u0026gt; 8083/TCP,8086/TCP 13d  ä½†æ˜¯æˆ‘å‘ç°ä¸€ä¸ªbugï¼Œå¦‚æœæˆ‘æƒ³è¦åˆ é™¤édefaultå‘½åç©ºé—´ä¸‹çš„svcï¼Œä¼šè¿”å›æ²¡æœ‰è¿™ä¸ªsvcï¼Œå°±å¾ˆè¿·å¹»ã€‚ä¼°è®¡æ˜¯ä¸å¸Œæœ›ç”¨æˆ·éšä¾¿åˆ é™¤ç³»ç»Ÿçš„svcã€‚æ‰€ä»¥å¦‚æœæƒ³åˆ é™¤æŸä¸ªédefaultå‘½åç©ºé—´ä¸‹çš„svcï¼Œè¯·ç”¨è¿™ä¸ªå‘½ä»¤ã€‚ä»¥dashboardä¸ºä¾‹ï¼š\nkubectl delete svc -n kube-system kubernetes-dashboard  ç”¨NodePortæš´éœ²å‡ºæ¥ä¹‹åï¼Œå‘ç°å¹¶ä¸èƒ½åƒhello-worldé‚£æ ·ï¼Œé€šè¿‡vas-ip:NodePortè®¿é—®åˆ°dashboardã€‚ä¼šè¿”å›é”™è¯¯ã€‚\n This connection is Not Private\nThis website maybe impersionating \u0026lsquo;vps-ip\u0026rsquo; to steal your personcal or financial information. You should go back to the previous page.\n åé¢çŸ¥é“è¿™æ˜¯å…³äºèº«ä»½éªŒè¯çš„é—®é¢˜ã€‚é‚£æˆ‘åˆæœç´¢äº†ä¸€ç•ªï¼ŒNodePortçš„æ–¹æ³•è¡Œä¸é€šï¼Œè¯•è¯•github k8så®˜ç½‘ç»™çš„proxyçš„æ–¹æ³•\nkubectl proxy --address=0.0.0.0 --disable-filter=true  ä½¿ç”¨proxyä¹‹åï¼Œä¼šåœ¨localhost:8001ç«¯å£ç›‘å¬dashboardè¯·æ±‚ã€‚è¿™ä¸ªæ—¶å€™å½“å‰çš„bashå°±ä¸èƒ½ä½¿ç”¨äº†ï¼š\nubuntu@VM-0-12-ubuntu:~$ sudo kubectl proxy --address=0.0.0.0 --disable-filter=true W0421 16:42:30.534218 23241 proxy.go:167] Request filter disabled, your proxy is vulnerable to XSRF attacks, please be cautious Starting to serve on [::]:8001  ç„¶åè®¿é—®ä»¥ä¸‹ç½‘å€ï¼š\nhttp://148.70.35.123:8001/api/v1/namespaces/kube-system/services/https:kubernetes-dashboard:/proxy/#/login\nå°±å¯ä»¥çœ‹åˆ°ä¹…è¿ä¸€æŠ¹dashboardè“è‰²ã€‚åˆ°è¿™é‡Œæˆ‘æ˜¯å¾ˆå…´å¥‹çš„ã€‚ç„¶è€Œâ€¦â€¦è¿™æ—¶å€™login dashboardéœ€è¦èº«ä»½éªŒè¯ã€‚UIä¸Šä¹Ÿæç¤ºäº†ä¸¤ç§éªŒè¯æ–¹å¼ï¼Œä¸€ç§æ˜¯local fileï¼Œå¦ä¸€ç§æ˜¯Tokenã€‚æˆ‘æƒ³Tokenæ–¹ä¾¿ä¸€äº›å§ï¼Œç„¶åæœç´¢äº†ä¸€ä¸‹è·å–Tokençš„æ–¹æ³•ï¼š\nsudo microk8s.kubectl -n kube-system get secret NAME TYPE DATA AGE kubernetes-dashboard-certs Opaque 0 13d kubernetes-dashboard-csrf Opaque 1 13d kubernetes-dashboard-key-holder Opaque 2 13d kubernetes-dashboard-token-42mpd kubernetes.io/service-account-token 3 13d  Microk8sç»™å‡ºçš„å‚è€ƒï¼ŒæŒ‡å‘åˆ°GitHub k8sçš„å®˜ç½‘å¯¹Access Controlçš„ä»‹ç»ï¼Œç”¨æœ€ä¸‹é¢çš„kubernetes-dashboard-token-42mpdçš„Tokenä½œä¸ºloginçš„å¯†é’¥ã€‚\næŸ¥çœ‹Tokençš„å…·ä½“å†…å®¹ç”¨å‘½ä»¤\nsudo microk8s.kubectl -n kube-system describe secret kubernetes-dashboard-token-42mpd  å°±å¯ä»¥çœ‹åˆ°Tokençš„å†…å®¹å¦‚ä¸‹ï¼š\nubuntu@VM-0-12-ubuntu:~/zecoo$ sudo kubectl -n kube-system describe secret $token Name: default-token-nwqdh Namespace: kube-system Labels: \u0026lt;none\u0026gt; Annotations: kubernetes.io/service-account.name: default kubernetes.io/service-account.uid: 20eca024-76ea-4ca7-8fdb-c36594100de8 Type: kubernetes.io/service-account-token Data ==== namespace: 11 bytes token: eyJhbGciOiJSUzI1NiIsImtpZCI6IkdlQmtINEEwWmtSVXhsUDA0U000ckJ1alBzZndiNDl5TTNiRml3SWRxeHMifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJkZWZhdWx0LXRva2VuLW53cWRoIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImRlZmF1bHQiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiIyMGVjYTAyNC03NmVhLTRjYTctOGZkYi1jMzY1OTQxMDBkZTgiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZS1zeXN0ZW06ZGVmYXVsdCJ9.rhSKv7FnCZMXOJrAJie6xNVnQHDxiCdEC1fVLcdEBfPALhvg7vhnNXuyWJjxE_GaLsK3KoUle5cJCXkpbvcAyOeG14b1pRw_V3LoQsdTwEOrpxZ2VIEI9AC09HL4pEX2b9XSERJMUd1Oua-CJu9rScy1yzKJvdp93MfFDQG0WB6RjuDR_o2imsgfWuERgWX1kkLef1hIIXPtLpA5YrFEhTl40NVS9LBaOlNez49hRq1cd2I6Elc9EY3VuQ5GlVgNAtLht_MAPrrpNuzkxpnLvFYJLCbcqYFpexLF0XarQT5JuCD9F8JNWZanZKPv_hd9uk4pfuZ9XVYU5W2yy7GMvg ca.crt: 1103 bytes  ç„¶é¹…ï¼Œæˆ‘åœ¨dashboard UIè¾“å…¥äº†è¿™ä¸²Tokenï¼Œç‚¹å‡»loginæ²¡æœ‰ä»»ä½•ååº”ã€‚ä¹Ÿä¸å‘Šè¯‰æˆ‘è¿™ä¸²Tokenæ˜¯ä¸æ˜¯å‡ºé—®é¢˜äº†ï¼Œå°±æ˜¯ä¸€ç‚¹ååº”æ²¡æœ‰ã€‚vpsç»ˆç«¯å€’æ˜¯æœ‰ç‚¹ååº”ï¼š\n2020/04/21 19:03:42 http: proxy error: context canceled  æœç´¢äº†ä¸€ä¸‹åˆï¼Œæœç„¶ç”¨Yandexä¹‹åæœç´¢æ•ˆç‡é«˜äº†å¥½å¤šã€‚ç»“æœå°±æ˜¯ï¼šç›®å‰ä¸ºæ­¢æ²¡æœ‰æ–¹æ³•å¯ä»¥è¿œç¨‹è®¿é—®k8sçš„dashboardï¼š[][]è®¨è®º1ã€è®¨è®º2ã€è®¨è®º3\nä½†æ˜¯å¥½åƒè¿˜æœ‰å¦ä¸€ç§æ–¹æ³•ï¼š\u0026ndash;enable-skip-loginé€‰é¡¹å¯ä»¥åœ¨dashboard UIä¸­å¢åŠ ä¸€ä¸ªSkipæŒ‰é’®ï¼Œè·³è¿‡loginç¯èŠ‚ã€‚ä¸è¿‡è¿™ä¸ªç¯èŠ‚æœ‰å¯èƒ½é­åˆ°ä¸­é—´äººMITMæ”»å‡»ã€‚æˆ‘æ‹…å¿ƒæŠŠåŠ›çš„vpsç»™æå´©äº†ï¼Œå…ˆä¸æŠ˜è…¾è¿™ä¸ªäº†ã€‚è¯¦æƒ…1ã€è¯¦æƒ…2\nå‚è€ƒ https://www.jianshu.com/p/6f42ac331d8a ï¼ˆRBACä»‹ç»ï¼‰\nhttps://github.com/kubernetes/dashboard/blob/master/docs/user/accessing-dashboard/1.7.x-and-above.md ï¼ˆk8så®˜æ–¹dashboardä»‹ç»ï¼‰\nhttps://microk8s.io/docs/addon-dashboard ï¼ˆmicrok8sçš„dashboardä»‹ç»ï¼‰\nhttps://github.com/kubernetes/dashboard/blob/master/docs/user/access-control/README.md#admin-privileges ï¼ˆmicrok8sæŒ‡å‘çš„k8s accesså®˜ç½‘ï¼‰\n","id":21,"section":"posts","summary":"ä¸Šä¸€èŠ‚è®²åˆ°ç°åœ¨å¯ä»¥åœ¨vpsä¸Šè®¿é—®åˆ°hello-worldäº†ã€‚ ç„¶è€Œæˆ‘æƒ³æŠŠè®¿é—®æ“ä½œæ”¾åœ¨æˆ‘çš„ç”µè„‘ä¸Šã€‚æˆ‘æ²¡æœ‰æƒ³åˆ°NodePortè¿™ä¹ˆå®¹æ˜“å°±èƒ½åšåˆ°äº†ã€‚","tags":["k8s"],"title":"K8S Proxy","uri":"https://zecoo.github.io/hugo/2020/04/k8s-proxy/","year":"2020"},{"content":" æ²¡é”™è¿™éƒ¨åˆ†ä¹ŸèŠ±äº†æˆ‘å¾ˆé•¿æ—¶é—´ï¼Œè€Œä¸”æŠŠæˆ‘å¿ƒæ€è¿˜æå´©äº†ã€‚\nk8så®‰è£…ä¸»è¦æ˜¯é•œåƒæ˜¯å›½å¤–ç§æœ‰åº“ï¼Œpullä¸‹æ¥æ¯”è¾ƒéº»çƒ¦ã€‚\nè€Œk8sç¬¬ä¸€ä¸ªhello-worldéš¾åœ¨ç†è§£podã€deploymentã€serviceä¹‹é—´çš„å…³ç³»ï¼Œä»¥åŠå„ç§å¥‡å¥‡æ€ªæ€ªçš„ç«¯å£æ˜ å°„ã€‚æˆ‘æƒ³è¿™æ˜¯è®¡ç®—æœºç½‘ç»œåŸºç¡€æ²¡æœ‰æ‰“å¥½åŸ‹çš„å‘å§ã€‚\né•œåƒ\u0026amp;Pod é¦–å…ˆæ˜¯åˆ›å»ºpodï¼Œè¿™é‡Œä¹Ÿéœ€è¦æŠŠæœ¬åœ°dockeråˆ›å»ºçš„imageç»™æ³¨å°„åˆ°microk8s.ctré‡Œé¢ã€‚æˆ‘æ ¹æ®å‚è€ƒ1ç»™å‡ºçš„æ–¹æ³•æ„å»ºäº†hello-node:v1é•œåƒã€‚ç„¶åæ³¨å…¥åˆ°k8sé‡Œé¢ã€‚\nimageåˆ›å»ºæˆåŠŸä¹‹åï¼Œå°±å¯ä»¥æ„å»ºpodäº†ã€‚ç”¨ä»¥ä¸‹å‘½ä»¤\nkubectl run hello-node --image=hello-node:v1 --port=8080 --image-pull-policy=Never  åˆ›å»ºäº†ä¸€ä¸ªpodï¼Œå¯ä»¥ç”¨å‘½ä»¤\nkubectl get pods  æŸ¥çœ‹podçš„åˆ›å»ºã€‚å¦‚æœåˆ›å»ºä¸æˆåŠŸï¼Œå¯ä»¥å…·ä½“æŸ¥çœ‹podçš„è¯¦ç»†æƒ…å†µã€‚\nkubectl describe pod hello-node  åˆ›å»ºDeployment podåˆ›å»ºæˆåŠŸäº†ï¼Œè€ƒè™‘æ„å»ºdeploymentï¼Œdepæ˜¯podçš„æ— çŠ¶æ€ä½“ç°ã€‚deploymentå¯ä»¥æ§åˆ¶podçš„replicaæ•°é‡ã€‚åˆ›å»ºæ–¹æ³•æˆ‘æ²¡æœ‰æ‰¾åˆ°å‘½ä»¤è¡Œçš„æ–¹å¼ï¼Œk8så®˜ç½‘ç»™å‡ºçš„ä¹Ÿæ˜¯æ¨èä½¿ç”¨yamlæ„å»ºã€‚ä»¥ä¸‹æ˜¯deployment.yamlæ–‡ä»¶ï¼š\napiVersion: apps/v1 # for versions before 1.9.0 use apps/v1beta2 kind: Deployment metadata: name: hello-node spec: selector: matchLabels: name: hello-node replicas: 1 # tells deployment to run 2 pods matching the template template: metadata: labels: name: hello-node spec: containers: - name: hello-node image: hello-node:v1 ports: - containerPort: 8080  æœ‰äº†yamlæ–‡ä»¶ï¼Œç„¶åç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥åˆ›å»ºdeployment\nkubectl apply -f deployment.yaml  deploymentåˆ›å»ºæˆåŠŸä¹‹åï¼Œç±»ä¼¼podï¼Œå¯ä»¥ç”¨getã€describeå‘½ä»¤æŸ¥çœ‹æŒ‡å®šdeploymentçš„æƒ…å†µã€‚\næš´éœ²æœåŠ¡ åˆ°ç›®å‰ä¸ºæ­¢è¿˜æ˜¯ä¸èƒ½è®¿é—®appã€‚å› ä¸ºç°åœ¨åªèƒ½åœ¨k8sé›†ç¾¤å†…éƒ¨è®¿é—®appã€‚æˆ‘ä»¬éœ€è¦å°†appå˜æˆserviceæ‰èƒ½è®¿é—®ã€‚å¯ä»¥ç”¨å‘½ä»¤è¡Œçš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨yamlæ–‡ä»¶çš„æ–¹å¼ã€‚å‚è€ƒä¸­ä½¿ç”¨çš„æ˜¯å‘½ä»¤è¡Œçš„æ–¹å¼ï¼š\nkubectl expose deployment hello-node --port=8080 --target-port=8080  ç„¶åæŸ¥çœ‹serviceï¼škubectl get svc hello-nodeå°±å¯ä»¥çœ‹åˆ°serviceçš„æƒ…å†µï¼š\nubuntu@VM-0-12-ubuntu:~$ sudo kubectl get svc NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE hello-node NodePort 10.152.183.14 \u0026lt;none\u0026gt; 8080:31908/TCP 33m kubernetes ClusterIP 10.152.183.1 \u0026lt;none\u0026gt; 443/TCP 8d  åˆ°è¿™é‡Œï¼Œappå°±å¯ä»¥åœ¨vpsä¸­è®¿é—®äº†ã€‚\nubuntu@VM-0-12-ubuntu:~$ curl 10.152.183.14:8080 Hello World!  ä½†æ˜¯ï¼Œä»…ä»…æ˜¯èƒ½åœ¨vpsä¸­è®¿é—®ã€‚æˆ‘å¦‚æœç”¨è‡ªå·±çš„macbookè®¿é—®ï¼Œè¿˜éœ€è¦åšå…¶ä»–çš„ä»£ç†å·¥ä½œï¼Œå¯èƒ½åˆæ˜¯ä¸€ä¸ªæ–°çš„å‘ç­‰æˆ‘å»è¡¥ã€‚\nç½‘ç»œç«¯å£è¯·è¡¥è¡¥ æœ€åè¿˜æœ‰ä¸ªå¤©å‘ï¼Œç­‰æˆ‘æ…¢æ…¢è¡¥\næœ¬æ¥å‚è€ƒæ•™ç¨‹å¯ä»¥è½»è½»æ¾æ¾å®Œæˆä¸€ä¸ªk8sçš„hello-worldï¼Œä½†æ˜¯æˆ‘è‡ªä½œèªæ˜åœ°æŠŠ8080ç«¯å£æ”¹æˆäº†8081ç«¯å£ã€‚ä¸€æ–¹é¢æ˜¯æˆ‘æ€•åŠ›ä¼šç”¨åˆ°è¿™ä¸ªç«¯å£ï¼Œå¦ä¸€æ–¹é¢æ˜¯æˆ‘æƒ³8080ä¸æ˜¯tomcaté»˜è®¤ç«¯å£å˜›ï¼Œå¯èƒ½ä¼šè¢«å ç”¨æ‰ã€‚ç»“æœå°±æ˜¯8081ç«¯å£è®©æˆ‘é¼“æ£äº†ä¸€æ•´å¤©ï¼Œpodã€deploymentã€serviceéƒ½æ˜¯readyçŠ¶æ€ä½†å°±æ˜¯é€šè¿‡curl 10.152.183.14:8081è®¿é—®ä¸åˆ°ã€‚æ°”å¾—æˆ‘åŠæ­»ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œç«¯å£æ–¹é¢çš„çŸ¥è¯†è¿˜è¦å¥½å¥½è¡¥è¡¥ã€‚\nè¿˜æœ‰ä¸€ä¸ªå‘½ä»¤ï¼ŒæŸ¥çœ‹ç«¯å£ä¿¡æ¯ï¼š\nbuntu@VM-0-12-ubuntu:~$ sudo netstat -tlpn Active Internet connections (only servers) Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 127.0.0.1:44047 0.0.0.0:* LISTEN 17662/containerd tcp 0 0 127.0.0.1:10256 0.0.0.0:* LISTEN 17538/kube-proxy tcp6 0 0 :::80 :::* LISTEN 1276/nginx: master tcp6 0 0 :::7000 :::* LISTEN 1237/frps  è™½ç„¶è¿™å’Œk8sçš„demoæ²¡æœ‰å¤ªå¤§å…³ç³»ï¼Œè¿˜æ˜¯poå‡ºæ¥çœ‹çœ‹å§ã€‚å¯ä»¥çœ‹åˆ°80ç«¯å£æ˜¯åŠ›åœ¨ç”¨çš„nginxï¼Œ7000ç«¯å£æ˜¯åŠ›åœ¨ç”¨çš„frpsã€‚\nç„¶åæˆ‘è¿˜æœ‰æƒ³è¯´çš„ï¼šå›½å†…Blogè´¨é‡çœŸçš„å·®åŠ²ï¼ï¼ï¼ï¼ï¼æˆ‘å·²ç»ä¸æ˜¯ç¬¬ä¸€æ¬¡æœ‰è¿™æ ·çš„æ„Ÿè§‰äº†ã€‚ç™¾åº¦å‡ºæ¥çš„åŸºæœ¬ä¸Šéƒ½æ˜¯åƒåœ¾ï¼Œèƒ½è§£å†³é—®é¢˜çš„æå°‘ï¼Œåªä¼šè®©è‡ªå·±å¿ƒæ€å´©ä¸ŠåŠ å´©ã€‚è€è€å®å®çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œæ˜¯æ•ˆç‡æœ€é«˜çš„æ–¹å¼ï¼ï¼ï¼ï¼ï¼\nå‚è€ƒ https://www.cnblogs.com/bforever/p/10601169.html ï¼ˆk8s hello-worldï¼‰\n","id":22,"section":"posts","summary":"æ²¡é”™è¿™éƒ¨åˆ†ä¹ŸèŠ±äº†æˆ‘å¾ˆé•¿æ—¶é—´ï¼Œè€Œä¸”æŠŠæˆ‘å¿ƒæ€è¿˜æå´©äº†ã€‚ k8så®‰è£…ä¸»è¦æ˜¯é•œåƒæ˜¯å›½å¤–ç§æœ‰åº“ï¼Œpullä¸‹æ¥æ¯”è¾ƒéº»çƒ¦ã€‚ è€Œk8sç¬¬ä¸€ä¸ªhello-worl","tags":["k8s"],"title":"K8S hello-world å›é¡¾","uri":"https://zecoo.github.io/hugo/2020/04/k8s-hello-world/","year":"2020"},{"content":" å†™åœ¨å‰é¢ åšåˆ°ife task002_3ï¼Œè½®æ’­å›¾èŠ±äº†æˆ‘æœ€é•¿çš„æ—¶é—´æ¥å†™ï¼Œç”šè‡³è®©æˆ‘å¼€å§‹åæ€è‡ªå·±æ˜¯ä¸æ˜¯çœŸçš„â€¦ä¸é€‚åˆå½“ä¸€ä¸ªç¨‹åºå‘˜ã€‚æˆ‘è¦æˆäº†ç¨‹åºå‘˜ï¼Œæœ‰ç§ä¾®è¾±äº†è¿™ä¸ªç¾¤ä½“çš„æ„Ÿjioã€‚æœ€åçœ‹äº†ä¸€ä¸‹ï¼Œè™½ç„¶ä¹Ÿå°±125è¡Œçš„ä»£ç ï¼Œæ–­æ–­ç»­ç»­æˆ‘å¤§æ¦‚åšäº†ä¸€å‘¨ã€‚ğŸ˜“\nhtml\u0026amp;CSSä¹Ÿé‡åˆ°é—®é¢˜ï¼š  æ€ä¹ˆæŠŠ6å¼ å›¾ç‰‡éƒ½å¡åˆ°frameé‡Œé¢å»ä¸æ¼å‡ºæ¥ã€‚ç®€å•ä¸€ä¸ªoverflowï¼šhiddenæˆ‘å°±æ˜¯æƒ³ä¸åˆ°ã€‚ 6ä¸ªæŒ‰é’®å°åœ†ç‚¹æ€ä¹ˆæ”¾åˆ°frameé‡Œé¢ã€‚å…¶å®è¿˜æ˜¯positionçš„é—®é¢˜ï¼Œæˆ‘æ€»æ˜¯è‡ªä»¥ä¸ºäº†è§£positionï¼Œç„¶è€Œåˆ°äº†çœŸæ­£å®è·µçš„æ—¶å€™å°±å‡ºé—®é¢˜ã€‚å°åœ†ç‚¹divç›¸å¯¹äºframeçš„positionè¦absoluteã€‚ å¦‚ä½•è®©å›¾ç‰‡æœ‰ä¸€ä¸ªæ»‘åŠ¨çš„æ•ˆæœï¼Ÿæˆ‘æ˜¯çœ‹äº†DIYgodçš„ä»£ç ä¹‹åï¼Œæ‰çŸ¥é“è¦è®©å›¾ç‰‡float leftï¼Œè®©å›¾ç‰‡divçš„å®½åº¦ä»…å¯èƒ½å®½ï¼Œè®©å›¾ç‰‡ç›¸å¯¹äºå·¦ä¸Šè§’æ¯æ¬¡ç§»åŠ¨ä¸€éƒ¨åˆ†è·ç¦»ï¼Œå°±èƒ½å®ç°ç§»åŠ¨çš„æ•ˆæœäº†ã€‚  æœ€è¦å‘½çš„æ˜¯JSéƒ¨åˆ† ä¸€å¼€å§‹æˆ‘ç™¾åº¦äº†ä¸€ä¸ªè½®æ’­å›¾çš„ä»£ç ï¼Œæ˜¯é€šè¿‡è°ƒæ•´å…¶ä»–å›¾ç‰‡displayï¼šnoneï¼ŒæŒ‡å®šindexçš„å›¾ç‰‡displayï¼šblockã€‚è¿™æ ·å°±ç®€å•å®ç°äº†å›¾ç‰‡çš„åˆ‡æ¢ã€‚è¿™æ ·åšä¹Ÿæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†å°±æ˜¯æ²¡æœ‰æ»‘åŠ¨çš„åŠ¨ç”»æ•ˆæœï¼Œçœ‹èµ·æ¥å¾ˆlowã€‚\nå¹²è„†ç»§ç»­å‚è€ƒDIYgodçš„ä»£ç ã€‚å°±æœ‰äº†ä¸Šé¢æåˆ°çš„ï¼Œè®©å›¾ç‰‡æ¨ªå‘å±•å¼€åœ¨é¡µé¢ä¸­ã€‚æ¯æ¬¡åˆ‡æ¢è®©å›¾ç‰‡å‘å·¦æˆ–å‘å³ç§»åŠ¨ä¸€å®šçš„è·ç¦»offsetã€‚ä¹Ÿå°±æ˜¯å›¾ç‰‡divçš„leftå¢åŠ æˆ–å‡å°‘offsetã€‚å¦‚æœç§»åŠ¨ä¸€å¼ å›¾ç‰‡è·ç¦»ï¼Œé‚£ä¹ˆå°±æ˜¯offset=img.widthã€‚\nNext \u0026amp; Prev button äºæ˜¯æˆ‘å…ˆæŠŠnextã€prevç‚¹å‡»åˆ‡æ¢çš„åŠŸèƒ½åšå‡ºæ¥ï¼Œè¿˜ç®—ç®€å•ï¼Œä¸»è¦æ³¨æ„çš„æ˜¯nextç§»åŠ¨åˆ°ç¬¬å…­å¼ å›¾ç‰‡çš„æ—¶å€™ï¼Œè¦è·³å›åˆ°ç¬¬ä¸€å¼ å›¾ç‰‡ï¼Œè¦ç”¨ifåšä¸ªåˆ¤æ–­ã€‚prevç§»åŠ¨åˆ°ç¬¬ä¸€å¼ ç…§ç‰‡çš„æ—¶å€™åŒç†ã€‚\nç§»åŠ¨åŠ¨ç”»æ•ˆæœ åˆ°è¿™é‡Œå¯ä»¥å‘ç°ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼ŒåŠŸèƒ½åšå‡ºæ¥å’Œdisplayï¼šnoneçš„é‚£ä¸€ç‰ˆæ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚å› ä¸ºç§»åŠ¨åœ¨ä¸€ç¬é—´å°±å®Œæˆäº†ï¼Œæ²¡æœ‰å½¢æˆåŠ¨ç”»æ•ˆæœã€‚\nå¦‚æœæƒ³è¦åŠ¨ç”»æ•ˆæœï¼Œè¦åœ¨ä¸€å®šæ—¶é—´timeå†…é€æ­¥å®Œæˆç§»åŠ¨ã€‚åšæ³•æ˜¯è®¾ç½®æ¯ä¸ªæ—¶é—´é—´éš”intervalç§»åŠ¨ä¸€å°æ®µè·ç¦»ï¼Œé‚£ä¹ˆæ¯ä¸ªæ—¶é—´é—´éš”ç§»åŠ¨çš„è·ç¦»å°±æ˜¯offset / (time / interval)ã€‚ç„¶åè®¾ç½®ä¸€ä¸ªsetTimeoutå‡½æ•°æ‰§è¡Œç§»åŠ¨è¿‡ç¨‹ã€‚\nå¥½ï¼ŒåŠ¨æ‰‹æ“ä½œä¸€ä¸‹ã€‚ç„¶åå°±ä¼šæƒŠå¥‡çš„å‘ç°ï¼šæ“ï¼Œæˆ‘çš„è½®æ’­å›¾æ€ä¹ˆåœä¸ä¸‹æ¥äº†ï¼Ÿæ˜¯å› ä¸ºsetTimeoutä¹‹åï¼Œæ¯ä¸ªæ—¶é—´é—´éš”å°±ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œä¸è®¾ç½®åœæ­¢æ¡ä»¶çš„è¯å°±ä¼šä¸€ç›´æ‰§è¡Œä¸‹å»ã€‚é‚£ä¹ˆåœæ­¢æ¡ä»¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå›¾ç‰‡ç§»åŠ¨äº†offsetçš„è·ç¦»ï¼Œè¿™ä¸ªåŠ¨ç”»è¿‡ç¨‹å°±åº”è¯¥ç»“æŸã€‚æ‰€ä»¥åœæ­¢æ¡ä»¶å°±æ˜¯initialLeft + offset = newLeftçš„æ—¶å€™ã€‚\nå†æ¥çœ‹çœ‹è½®æ’­å›¾æ•ˆæœæ€ä¹ˆæ ·ï¼Ÿnextå’ŒprevæŒ‰é’®éƒ½å¯ä»¥ä½¿ç”¨äº†ï¼Œè€Œä¸”ä¹Ÿæœ‰äº†åŠ¨ç”»æ•ˆæœã€‚å°é˜¶æ®µç›®æ ‡å®Œæˆï¼Œå…ˆç»™è‡ªå·±å°å°é¼“åŠ±ä¸€ä¸‹ã€‚\nå°åœ†ç‚¹ æ¥ä¸‹æ¥è€ƒè™‘å®ç°å°åœ†ç‚¹å’Œå›¾ç‰‡çš„indexçš„åŒæ­¥ã€‚è¿™ä¸­é—´ä¹Ÿæœ‰ä¸€äº›trickï¼Œæˆ‘éšä¾¿æƒ³æƒ³å‘ç°æ‚Ÿä¸åˆ°å°±åˆçœ‹äº†Dgçš„ä»£ç ã€‚\né¦–å…ˆè€ƒè™‘æ€ä¹ˆåšåˆ°è®©æŸä¸ªindexçš„å°åœ†ç‚¹ï¼ˆä¸‹é¢ç”¨Oè¡¨ç¤ºï¼‰äº®èµ·æ¥å‘¢ï¼ŸDgç»™å‡ºçš„æ–¹æ³•æ˜¯ï¼Œç»™indexçš„Oæ·»åŠ ä¸€ä¸ªclassæ¯”å¦‚lightï¼ŒCSSä¸­è®¾ç½®è¯¥class lightçš„bgc=whiteï¼Œå°±ç›¸å½“äºè®©indexçš„Oäº®èµ·æ¥äº†ï¼ŒæŒºå·§å¦™çš„ã€‚åŒæ—¶è¦æ³¨æ„ï¼Œäº®èµ·æ¥äº†ï¼Œè¿˜è¦è®©ä»–ç­æ‰ï¼Œä¹Ÿå¾ˆç®€å•ï¼ŒæŠŠæ‰€æœ‰Oçš„light classéƒ½ç»™removeæ‰ã€‚\nå¥½çš„ï¼Œç°åœ¨ä»»æ„indexçš„Oéƒ½å¯ä»¥æ§åˆ¶å…¶äº®æˆ–è€…ä¸äº®äº†ã€‚ç›´æ¥æŠŠè¿™ä¸ªæ–¹æ³•å°è£…æˆshowBtn()ã€‚åœ¨nextã€prevçš„ç‚¹å‡»æ“ä½œä¸­ï¼Œæ·»åŠ showBtnæ–¹æ³•ï¼Œå°±å¯ä»¥æˆåŠŸçœ‹åˆ°æŒ‡å®šindexçš„Oäº®èµ·æ¥äº†ï¼Œå’Œå›¾ç‰‡å®ç°äº†åŒæ­¥ã€‚\nå°åœ†ç‚¹è¿™é‡Œè¿˜æ²¡å®Œã€‚é€šå¸¸åœ¨è½®æ’­å›¾ä¸­ç‚¹å‡»æŸä¸ªä½ç½®çš„Oï¼Œåº”è¯¥èƒ½è·³è½¬åˆ°è¯¥indexçš„å›¾ç‰‡ã€‚è¿™é‡ŒDgåœ¨htmlä¸­ç»™æ¯ä¸ªOè®¾ç½®äº†ä¸€ä¸ªindex=0~6å±æ€§ï¼Œé€šè¿‡this.getAttribute()æ–¹æ³•è·å–å½“å‰indexã€‚æœ‰äº†å½“å‰çš„indexï¼Œå’Œè¦ç§»åŠ¨åˆ°çš„indexï¼Œç›¸å‡ä¹˜ä»¥å›¾ç‰‡çš„widthï¼Œå°±æ˜¯è¦ç§»åŠ¨çš„offsetã€‚é‚£ä¹ˆåˆ°è¿™é‡Œè¿™ä¸ªåŠŸèƒ½ä¹Ÿå°±å®ç°äº†ã€‚\næ‰€ä»¥åˆ°æœ€åçš„é¡ºæ—¶é’ˆã€é€†æ—¶é’ˆæ’­æ”¾å°±æ›´ç®€å•äº†ï¼ŒsetInterval()ï¼Œæ¯éš”1000msæ‰§è¡Œä¸€æ¬¡nextæˆ–è€…prevï¼Œå°±OKäº†ã€‚ä½†æ˜¯è¦æ³¨æ„ï¼Œå¦‚æœå…ˆåç‚¹å‡»playASCå’ŒplayDESCï¼Œä¼šå‘ç”Ÿé¬¼ç•œã€‚è§£å†³æ–¹æ³•æ˜¯åœ¨è¿™ä¸¤ä¸ªæ–¹æ³•æ‰§è¡Œå‰å…ˆåˆ¤æ–­ä¸€ä¸‹ï¼Œå¦‚æœsetIntervalçš„timerè¿˜åœ¨çš„è¯ï¼Œå°±stopæ‰ã€‚è¿™æ ·é¬¼ç•œçš„é—®é¢˜ä¹Ÿå°±è§£å†³äº†ã€‚\næœ€å åˆ«çœ‹æˆ‘å›é¡¾å°±å†™äº†1.3kå­—ï¼Œå†™ä»£ç èŠ±è´¹çš„æ—¶é—´çœŸçš„æ¯”æˆ‘æƒ³è±¡ä¸­çš„å¤šå¤šäº†ã€‚æ„Ÿè§‰é‚£äº›ç¨‹åºå‘˜åä¸€ä¸‹åˆèƒ½æå‡ºå„ç§å„æ ·çš„åŠŸèƒ½ï¼Œæˆ‘è¿™â€¦â€¦çœŸçš„èœå•Šã€‚\n","id":23,"section":"posts","summary":"å†™åœ¨å‰é¢ åšåˆ°ife task002_3ï¼Œè½®æ’­å›¾èŠ±äº†æˆ‘æœ€é•¿çš„æ—¶é—´æ¥å†™ï¼Œç”šè‡³è®©æˆ‘å¼€å§‹åæ€è‡ªå·±æ˜¯ä¸æ˜¯çœŸçš„â€¦ä¸é€‚åˆå½“ä¸€ä¸ªç¨‹åºå‘˜ã€‚æˆ‘è¦æˆäº†ç¨‹åºå‘˜ï¼Œæœ‰ç§ä¾®","tags":["js","ife"],"title":"ife è½®æ’­å›¾å›é¡¾","uri":"https://zecoo.github.io/hugo/2020/04/ife-%E8%BD%AE%E6%92%AD%E5%9B%BE%E5%9B%9E%E9%A1%BE/","year":"2020"},{"content":" Ubuntu18æœ¬èº«è‡ªå¸¦snapï¼Œå¯ä»¥åœ¨microk8sçš„å®˜ç½‘æ‰¾åˆ°å®‰è£…æ–¹æ³•ã€‚\næ³¨æ„k8sçš„è¿è¡Œæ¡ä»¶åªè¦æ»¡è¶³ä»¥ä¸‹\n Linux kernelåœ¨3.1ä»¥ä¸Šï¼Œå¾ˆå¤šå°çš„openZVçš„æœåŠ¡å™¨ï¼Œéƒ½æ˜¯2.6çš„æ ¸å„¿ Memoryè¦åœ¨2Gæˆ–ä»¥ä¸Šã€‚  æˆ‘åœ¨å›½å¤–ä¹°çš„xs vpså°±emmmã€‚å†é™„è‡ªå·±æ£€æŸ¥kernelçš„è¿‡ç¨‹\n$ uname -r (check linux kernel) $ dpkg --print-architecture (check linux architecture amd64/arm64)  æŒ‰ç…§å®˜ç½‘çš„æ–¹æ³•ï¼Œå®‰è£…æˆåŠŸçš„è¯è¾“å…¥sudo kubectl versionåº”è¯¥èƒ½çœ‹åˆ°clientå’Œserverä¿¡æ¯ã€‚\nä½†æ˜¯ç°åœ¨çš„microk8sè¿˜éœ€è¦å®‰è£…ä¸€äº›add-onï¼Œè£…è¿™äº›add-onçš„æ—¶å€™å°±ä¼šæœ‰é—®é¢˜äº†ã€‚\nsudo mircok8s enable dns dashboard\nè¿™é‡Œå¼€å¯microk8sçš„dnså’ŒdashboardæœåŠ¡ï¼Œä½†æ˜¯å°è¯•ä¸€ä¸‹ä¼šå‘ç°dashboardå¹¶ä¸èƒ½ä½¿ç”¨ã€‚å¦‚æœserverè£…äº†sså¯ä»¥ç¿»wallï¼Œåº”è¯¥ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚å¦‚æœæ²¡æœ‰ssï¼Œç”¨è¿™ä¸ªå‘½ä»¤æ£€æŸ¥ä¸€ä¸‹namespaceä¸ºkube-systemçš„podçš„æƒ…å†µã€‚\nsudo microk8s.kubectl get pods --all-namespaces\nä½ ä¼šçœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š\nNAMESPACE NAME READY STATUS RESTARTS AGE container-registry registry-7cf58dcdcc-rlfdq 1/1 Running 1 18h default hello-node 0/1 ImagePullBackOff 0 16h kube-system coredns-588fd544bf-nmnnl 1/1 Creating 1 19h kube-system dashboard-metrics-scraper-db65b9c6f-46lrb 1/1 Creating 1 19h kube-system heapster-v1.5.2-58fdbb6f4d-pmgvc 4/4 Creating 4 19h kube-system hostpath-provisioner-75fdc8fccd-5vvfv 1/1 Creating 1 18h kube-system kubernetes-dashboard-67765b55f5-lwrms 1/1 Creating 1 19h kube-system monitoring-influxdb-grafana-v4-6dc675bf8c-lf8nr 2/2 Creating 2 19h  æ‰€æœ‰namespaceä¸ºkube-systemçš„podéƒ½æ˜¯creatingçš„çŠ¶æ€ã€‚è¿™æ˜¯ä¸€ä¸ªä¸å¯ç”¨çš„çŠ¶æ€ã€‚å†ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼š\nsudo microk8s kubectl describe pods --all-namespaces\nå…·ä½“æŸ¥çœ‹ä¸€ä¸‹podçš„çŠ¶æ€ï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼›\npull k8s.grc.io/pause:3.1 timeout(å…·ä½“æ˜¯ä»€ä¹ˆæˆ‘å¿˜è®°æå‰è®°å½•äº†ï¼Œæ€»ä¹‹å°±æ˜¯é•œåƒpullä¸åˆ°)  è¿™é‡ŒåˆåŸ‹ä¸‹äº†ä¸€ä¸ªå‘ã€‚å› ä¸ºk8s.grc.ioæ˜¯Googleçš„ç§æœ‰åº“ï¼Œå›½å†…è®¿é—®ä¸åˆ°ã€‚æœ‰ä¸¤ä¸ªè§£å†³æ–¹æ³•ï¼š\n ç¿»wallï¼Œä¸Šé¢æåˆ°äº†ï¼Œå¦‚æœä½ å¯ä»¥ï¼Œé‚£ä½ å¤§æ¦‚ç‡ä¸ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ã€‚ ä½¿ç”¨å›½å†…é•œåƒpullä¸‹æ¥è¿™å‡ ä¸ªé•œåƒç„¶åé‡æ–°æ‰“tag  æˆ‘é€‰æ‹©ç¡¬åˆšç¬¬äºŒç§æ–¹æ³•ã€‚\nå›½å†…é•œåƒæºå¯ç”¨çš„æˆ‘çœ‹äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æœ‰é˜¿é‡Œäº‘ã€ä¸­ç§‘é™¢å’ŒAzure.cnè¿™ä¸‰ä¸ªã€‚\nå…ˆè®°å½•ä¸€ä¸ªpull imageç„¶åæ‰“tagçš„è¿‡ç¨‹å§ã€‚\ndocker pull gcr.mirrors.ustc.edu.cn/google-containers/pause:3.1 docker tag gcr.mirrors.ustc.edu.cn/google-containers/pause:3.1 k8s.grc.io/pause:3.1  è®²é“ç†ï¼Œåˆ°è¿™é‡Œåº”è¯¥å·²ç»æˆäº†ï¼Œä½†æ˜¯microk8sä¸è®¤åˆšè£…ä¸Šçš„dockeræ€ä¹ˆåŠï¼Ÿæˆ‘æƒ³è¿™é‡Œåº”è¯¥ä¹Ÿæœ‰ä¸¤ä¸ªè§£å†³æ–¹æ³•\n è®©k8så’Œdockerå…¬ç”¨ä¸€ä¸ªregistryï¼Œæ‰“é€šä»–ä»¬ä¹‹é—´çš„é€šé“ microk8sè‡ªå·±ä¹Ÿæœ‰dockerï¼ŒæŠŠpullä¸‹æ¥çš„imageæ³¨å°„è¿›å»  ç¬¬ä¸€ä¸ªæ–¹æ³•æˆ‘æ‡’å¾—æ‰¾äº†ï¼Œç”¨çš„ç¬¬äºŒç§æ–¹æ³•ã€‚åœ¨è¿™é‡Œè¿˜è¦è¯´ä¸€ä¸‹microk8sçš„ä¸€ä¸ªå‘ï¼šæœ€æ–°çš„ç‰ˆæœ¬ï¼ˆæˆ‘ç”¨çš„æ˜¯1.18.0ï¼‰æ˜¯ä¸èƒ½ç›´æ¥ç”¨microk8s.dockeræ“ä½œdockerçš„ï¼Œå¥½åƒç‰ˆæœ¬1.13ä¹‹å‰çš„å¯ä»¥ã€‚è¿™æ ·å°±å¯ä»¥ç›´æ¥ç”¨microk8sçš„dockeræ‹‰å–é•œåƒç„¶åé‡æ–°æ‰“tagå°±å¥½äº†ã€‚æ–°ç‰ˆæœ¬æƒ³è¦ä½¿ç”¨dockerï¼Œå…·ä½“çš„æ³¨å°„æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼š\ndocker save k8s.grc.io/pause:3.1 \u0026gt; pause.tar  ç„¶ålsä¸€ä¸‹å¯ä»¥çœ‹åˆ°ç›®å½•ä¸‹é¢å¤šäº†ä¸€ä¸ªpause.tarï¼Œå…ˆå‹ç¼©ç„¶åå†æ³¨å…¥åˆ°microk8sä¸­\nsudo microk8s.ctr image import pause.tar  è¿™ä¸ªå‘½ä»¤è®©ä¿ºæœäº†å¾ˆé•¿æ—¶é—´ã€‚æ›´è¦å‘½æ˜¯ä¸ç®¡æ˜¯baiduè¿˜æ˜¯bingä¸Šå…³äºmicrok8s.ctrçš„å†…å®¹éƒ½å‡ ä¹æ²¡æœ‰ã€‚ç„¶åæˆ‘çœ‹äº†ä¸‹ctr imageçš„helpï¼Œé‡Œé¢æœ‰ä¸€ä¸ªcheckå‘½ä»¤å¯ä»¥æŸ¥çœ‹cträ¸­çš„imageï¼Œç›¸å½“äºdocker imageså‘½ä»¤ã€‚\nsudo microk8s.ctr image check  å°±å¯ä»¥çœ‹åˆ°åˆšåˆšçš„k8s.grc.io/pause:3.1å·²ç»importè¿›å»äº†ã€‚\nç„¶é¹…ï¼Œå› ä¸ºå¢™çš„é—®é¢˜éœ€è¦importçš„é•œåƒè¿˜æœ‰å¥½å¤šå‘¢ã€‚ä¸€ä¸ªä¸€ä¸ªimportè¿›å»ï¼Œç–¯äº†ã€‚ç„¶åå°±çœ‹åˆ°äº†æ‰¹é‡importé•œåƒçš„bashè„šæœ¬ã€‚è´´åœ¨ä¸‹é¢ï¼š\n#!/bin/bash images=( k8s.gcr.io/pause:3.1=gcr.azk8s.cn/google-containers/pause:3.1 gcr.io/google_containers/defaultbackend-amd64:1.4=gcr.azk8s.cn/google-containers/defaultbackend-amd6 4:1.4 k8s.gcr.io/kubernetes-dashboard-amd64:v1.10.1=registry.cn-hangzhou.aliyuncs.com/google_containers/ku bernetes-dashboard-amd64:v1.10.1 k8s.gcr.io/heapster-influxdb-amd64:v1.3.3=registry.cn-hangzhou.aliyuncs.com/google_containers/heapst er-influxdb-amd64:v1.3.3 k8s.gcr.io/heapster-amd64:v1.5.2=registry.cn-hangzhou.aliyuncs.com/google_containers/heapster-amd64: v1.5.2 k8s.gcr.io/heapster-grafana-amd64:v4.4.3=registry.cn-hangzhou.aliyuncs.com/google_containers/heapste r-grafana-amd64:v4.4.3 ) OIFS=$IFS; # ?~]?~X?~W??~@? for image in ${images[@]};do IFS='=' set $image docker pull $2 docker tag $2 $1 docker rmi $2 docker save $1 \u0026gt; 1.tar \u0026amp;\u0026amp; microk8s.ctr image import 1.tar \u0026amp;\u0026amp; rm 1.ta r IFS=$OIFS; # ?~X?~N~_?~W??~@? done  å…ˆç”¨microk8s.ctr image checkæ£€æŸ¥ä¸€ä¸‹æ˜¯ä¸æ˜¯éƒ½æ³¨å…¥è¿›å»äº†ã€‚\nç„¶åé‡æ–°å¯åŠ¨microk8sï¼Œå†æ¬¡æ£€æŸ¥namespaceä¸ºkube-systemçš„podçš„çŠ¶æ€ï¼Œåº”è¯¥å¯ä»¥çœ‹åˆ°çŠ¶æ€ä»ä¸€ç›´Creatingå˜æˆäº†readyã€‚åˆ°è¿™é‡Œåº”è¯¥å¯ä»¥è¯´å®‰è£…ç®—æ˜¯ç»“æŸäº†ã€‚\næœ€åæ€»ç»“ä¸€ä¸‹å§ï¼Œæ ¸å¿ƒå…¶å®å°±æ˜¯k8séœ€è¦Googleç§æœ‰åº“çš„imageæ”¯æŒï¼Œä½†æ˜¯å› ä¸ºç½‘ç»œåŸå› è·å–ä¸åˆ°ï¼Œéœ€è¦ç”¨å…¶ä»–æ–¹æ³•æŠŠè¿™äº›imageè£…åˆ°k8sé‡Œã€‚ä»¥ä¸Šæ‰€æœ‰çš„å†…å®¹éƒ½æ˜¯åœ¨è¸©å‘ã€‚mdæµªè´¹äº†è€å­å¥½å¤šæ—¶é—´ã€‚\nå‚è€ƒï¼š https://zhuanlan.zhihu.com/p/81648464\nhttps://www.cnblogs.com/xiao987334176/p/10931290.html ï¼ˆé•œåƒæºï¼‰\nhttps://segmentfault.com/a/1190000019534913?utm_source=tag-newest\nhttps://www.bayun.org/article/11 ï¼ˆè„šæœ¬æ‰¹é‡importé•œåƒï¼‰\nhttps://blog.csdn.net/championzgj/article/details/93299777 ï¼ˆæ›²çº¿æ•‘å›½ï¼‰\nhttps://www.dazhuanlan.com/2019/12/12/5df13665d9eee/ ï¼ˆmicrok8såŸºæœ¬å‘½ä»¤ï¼‰\nhttps://blog.csdn.net/shykevin/article/details/90703428\n","id":24,"section":"posts","summary":"Ubuntu18æœ¬èº«è‡ªå¸¦snapï¼Œå¯ä»¥åœ¨microk8sçš„å®˜ç½‘æ‰¾åˆ°å®‰è£…æ–¹æ³•ã€‚ æ³¨æ„k8sçš„è¿è¡Œæ¡ä»¶åªè¦æ»¡è¶³ä»¥ä¸‹ Linux kernelåœ¨3.1ä»¥ä¸Šï¼Œå¾ˆå¤š","tags":["k8s","mirok8s"],"title":"Microk8s å›½å†…å®‰è£…æ€»ç»“","uri":"https://zecoo.github.io/hugo/2020/04/microk8s-installation-in-china/","year":"2020"},{"content":" å¼„èµ·æ¥æŒºå¿«çš„ï¼Œå…¶å®å°±ä¸‰ç‚¹\n å®‰è£…ssã€‚apt installå°±å¯ä»¥ é…ç½®ssã€‚å°±ä¸€ä¸ªjsonæ–‡ä»¶ å¯åŠ¨ssã€‚ä¸€è¡Œå‘½ä»¤  å‚è€ƒï¼š https://viencoding.com/article/90\n","id":25,"section":"posts","summary":"å¼„èµ·æ¥æŒºå¿«çš„ï¼Œå…¶å®å°±ä¸‰ç‚¹ å®‰è£…ssã€‚apt installå°±å¯ä»¥ é…ç½®ssã€‚å°±ä¸€ä¸ªjsonæ–‡ä»¶ å¯åŠ¨ssã€‚ä¸€è¡Œå‘½ä»¤ å‚è€ƒï¼š https://viencoding.com/article/90","tags":["server","ss"],"title":"SS on Ubuntu","uri":"https://zecoo.github.io/hugo/2020/04/ss-on-ubuntu/","year":"2020"},{"content":"åœ¨ifeä¸Šä¹Ÿå†™äº†å‡ ä¸ªç½‘é¡µäº†ï¼Œä½†æ˜¯å¦‚æœä¸€ç›´ç”¨github-pagesçš„è¯ï¼Œæ„Ÿè§‰æœ‰ç‚¹éº»çƒ¦ï¼Œè‡ªå·±æœ‰ä¸€ä¸ªæœåŠ¡å™¨å¹²å˜›ä¸ç›´æ¥ç”¨å‘¢ï¼Ÿ\nå®‰è£…NginxåŠå…¶ç®€å•ï¼š\napt install nginx\nè¿™ä¸ªæ—¶å€™å¦‚æœå‘ç°ç»ˆç«¯ä¸åŠ¨äº†ï¼Œæ²¡å•¥ååº”ï¼Œå…¶å®æ˜¯Nginxå·²ç»å¯åŠ¨äº†ï¼Œæµè§ˆå™¨è¾“å…¥åœ°å€çœ‹çœ‹æ˜¯ä¸æ˜¯èƒ½çœ‹åˆ°nginxæ¬¢è¿é¡µã€‚\nä¸‹ä¸€æ­¥ç»™nginxè®¾ç½®è‡ªå·±çš„ä¸»é¡µ\næŒ‰ç…§å‚è€ƒåšå®¢ç»™å‡ºçš„æ€è·¯ï¼Œå…ˆå»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹ä½œä¸ºnginxè®¿é—®ç›®å½•ã€‚æ¯”å¦‚/www/static-web\nç„¶åç»™è‡ªå·±çš„ç›®çš„è®¾ç½®ä¸€ä¸ªnginxé…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶åœ°å€\ncd /etc/nginx/conf.d/\nç„¶åæ–°å»ºä¸€ä¸ªstatic-hello.conf\nå†™è¿›ä»¥ä¸‹å†…å®¹ï¼š\nserver { server_name = 89.33.194.100; // ä½ è‡ªå·±çš„åœ°å€æˆ–è€…åŸŸå root /root/www/static-web; // nginxè®¿é—®ç›®å½• index index.html; location ~* ^.+\\.(jpg|jpeg|gif|png|ico|css|js|pdf|txt){ root /root/www/static-web/; } }  ç„¶åé‡å¯nginx\nnginx -s reload\næˆ‘åœ¨æµè§ˆå™¨è®¿é—®äº†ä¸€ä¸‹è‡ªå·±çš„åœ°å€ï¼Œå‘ç°403 Forbiddenã€‚æ•…æ’æŸ¥ä¹‹ã€‚\næŸ¥çœ‹nginxé”™è¯¯ä¿¡æ¯\ncat /var/log/nginx/error.log\nå¾—åˆ°è¿™æ ·çš„ä¿¡æ¯\n2020/04/08 23:43:58 [notice] 1390#1390: signal process started 2020/04/08 23:44:10 [error] 1391#1391: *4 \u0026quot;/root/www/static-web/index.html\u0026quot; is forbidden (13: Permission denied), client: 171.41.91.51, server: =, request: \u0026quot;GET / HTTP/1.1\u0026quot;, host: \u0026quot;89.33.194.100\u0026quot;  è¯´æ˜æƒé™ä¸å¤Ÿï¼Œæ•…æœç´¢è§£å†³æ–¹æ¡ˆ\næ‰¾åˆ°ç¼–è¾‘nginxé…ç½®æ–‡ä»¶ï¼ˆä¸€èˆ¬æ˜¯/etc/nginx/nginx.confï¼‰ã€‚ç„¶åæˆ‘åœ¨å¼€å¤´å°±æ‰¾åˆ°é—®é¢˜äº†\nroot@zecoo:/etc/nginx# cat nginx.conf user www-data; worker_processes auto; pid /run/nginx.pid;  user æ˜¯www-dataä¸æ˜¯rootï¼Œæ›´æ”¹ä¹‹åé‡å¯ï¼Œå°±èƒ½çœ‹åˆ°æŒ‡å®šç›®å½•ä¸‹çš„index.htmläº†ã€‚\nå‚è€ƒï¼š https://segmentfault.com/a/1190000010487262?utm_source=tag-newest\nhttps://www.liangjucai.com/article/224\n","id":26,"section":"posts","summary":"åœ¨ifeä¸Šä¹Ÿå†™äº†å‡ ä¸ªç½‘é¡µäº†ï¼Œä½†æ˜¯å¦‚æœä¸€ç›´ç”¨github-pagesçš„è¯ï¼Œæ„Ÿè§‰æœ‰ç‚¹éº»çƒ¦ï¼Œè‡ªå·±æœ‰ä¸€ä¸ªæœåŠ¡å™¨å¹²å˜›ä¸ç›´æ¥ç”¨å‘¢ï¼Ÿ å®‰è£…NginxåŠå…¶ç®€å•","tags":["nginx"],"title":"åˆè¯•Nginxéƒ¨ç½²é™æ€ç½‘é¡µ","uri":"https://zecoo.github.io/hugo/2020/04/%E5%88%9D%E8%AF%95nginx%E9%83%A8%E7%BD%B2%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5/","year":"2020"},{"content":" task1çš„æ—¶å€™æˆ‘è¿˜èƒ½å‹‰å¼ºç”¨è‡ªå·±çš„æƒ³æ³•å†™ï¼Œhtmlçš„å±•ç¤ºæ•ˆæœè¾¾åˆ°äº†å°±å¥½ã€‚\nä½†æ˜¯åˆ°äº†task2çš„æ—¶å€™ï¼ŒjsåŸºç¡€è¿˜æ˜¯ä¸ç‰¢å•Šï¼ŒåŸºæœ¬ä¸Šæ¯é“é¢˜éƒ½è¦çœ‹ä¸‹åˆ«äººçš„åšå®¢ã€‚è™½ç„¶æœ‰ç‚¹lowï¼Œä½†æ˜¯è¿˜æ˜¯ç§‰ç€ä¸€è‚¡åŠ²å¾€å‰å†²ï¼Œåé¢å†æ¥æ¡æŠ€æœ¯ç»†èŠ‚çš„æ€è·¯ï¼Œä¸ä¸¢äººçš„ã€‚\nä¸€è¶Ÿæ£é¼“ä¸‹æ¥ï¼ŒJSéƒ¨åˆ†ä¸€å…±å°±5ä¸ªæ¿å—ï¼š\n jsåŸºç¡€ï¼šæ•°æ®ç»“æ„ã€å¯¹è±¡ç­‰ domï¼ˆhtmlæ ‘å½¢ç»“æ„æ“ä½œï¼‰ ajaxï¼ˆå’ŒæœåŠ¡å™¨äº¤äº’ï¼Œéƒ¨åˆ†åˆ·æ–°é¡µé¢ï¼‰ jQueryï¼ˆæ›´æ–¹ä¾¿æ“ä½œdomå’Œajaxï¼‰ nodejsï¼ˆæš‚æ—¶ä¸å­¦ä¹ ï¼‰  æ¥ä¸‹æ¥æ€»ç»“ä¸€ä¸‹è‡ªå·±çš„æ£é¼“è¿‡ç¨‹å§ï¼ˆä¸åŒ…å«æŠ€æœ¯ç»†èŠ‚ï¼‰\nä»»åŠ¡2 JSåŸºç¡€ åˆ¤æ–­æ•°æ®ç±»å‹ã€‚ ç”¨Objexct.prototypeæ¥åˆ¤æ–­\næ·±å…‹éš†ã€‚ å¦‚æœç›´æ¥var copy = srcå°±æ˜¯æµ…å¤åˆ¶ï¼Œæ‰€ä»¥è¦ç”¨é€’å½’çš„å½¢å¼ã€‚\næ•°ç»„ç›¸å…³æ“ä½œ 1 simpleTrimã€‚è¿™ç§é—®é¢˜ä»¥å‰ä»æ¥æ²¡æ¥è§¦è¿‡ï¼Œä¸ä¼šå†™æ­£å¸¸2333ã€‚forå¾ªç¯åˆ¤æ–­åˆ†åˆ«ä»å‰å’Œä»åé¢åˆ¤æ–­æ—¶å€™æœ‰ç©ºå­—ç¬¦\n2 trimã€‚æ­£åˆ™è¡¨è¾¾å¼ç›´æ¥æŠŠç©ºå­—ç¬¦ç»™æ›¿æ¢æ‰\næ­£åˆ™è¡¨è¾¾å¼ è¿™æ˜¯æˆ‘ç¬¬å‡ æ¬¡å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼å•¦ï¼Ÿï¼Ÿ\nä»»åŠ¡3 Dom åˆ°è¿™é‡Œæœ€å¥½è¿˜æ˜¯ç»“åˆhtmlé¡µé¢æ¥å­¦ä¹ ï¼Œç›´æ¥ä¸Šæ¥å†™è€å¤«å®åœ¨æ˜¯æ— å¤„ä¸‹æ‰‹ã€‚\nä»»åŠ¡4 Event åŒdom\nä»»åŠ¡5 Bom cookieçš„è®¾ç½®å’Œè·å–ã€‚\nä»¥å‰åªçŸ¥é“cookieæ˜¯ä»€ä¹ˆï¼Œç°åœ¨çŸ¥é“cookieé•¿ä»€ä¹ˆæ ·äº†æ€ä¹ˆæä¸€ä¸ªã€‚\nä»»åŠ¡6 Ajax emmmè‡ªå·±å†™ä¸€ä¸ªç®€å•çš„ï¼Œè®²é“ç†ï¼Œå…¶å®æ˜¯xmlhttpçš„ä½¿ç”¨ï¼Œå’Œajaxæ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚\n","id":27,"section":"posts","summary":"task1çš„æ—¶å€™æˆ‘è¿˜èƒ½å‹‰å¼ºç”¨è‡ªå·±çš„æƒ³æ³•å†™ï¼Œhtmlçš„å±•ç¤ºæ•ˆæœè¾¾åˆ°äº†å°±å¥½ã€‚ ä½†æ˜¯åˆ°äº†task2çš„æ—¶å€™ï¼ŒjsåŸºç¡€è¿˜æ˜¯ä¸ç‰¢å•Šï¼ŒåŸºæœ¬ä¸Šæ¯é“é¢˜éƒ½è¦çœ‹ä¸‹åˆ«","tags":["js","ife"],"title":"IFE js.util","uri":"https://zecoo.github.io/hugo/2020/03/ife-js-util/","year":"2020"},{"content":" æˆ‘è®°å½•ä¸€ä¸‹ifeå…¶ä»–å‡ ä¸ªé¡µé¢ã€‚ä¸€å…±è¿™ä¹ˆå‡ ä¸ªé¡µé¢\n index.html post.html archive.html about.html  å¦‚æœè‡ªå·±å†™çš„è¯ï¼Œé™¤äº†index.htmlï¼Œå…¶ä»–å‡ ä¸ªé¡µé¢éƒ½æœ‰æˆ–å¤šå¤šå°‘çš„é—®é¢˜æˆ‘å†™ä¸å‡ºæ¥ã€‚ ä¸€ä¸ªä¸€ä¸ªè¯´å§ã€‚\nIndex.html  banneræœ‰ä¸‰ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯logoï¼Œä¸€ä¸ªæ˜¯ç«™å†…å…¶ä»–é“¾æ¥ï¼Œæœ€åä¸€ä¸ªæ˜¯gitçš„logoã€‚è¿™ä¸‰ä¸ªéƒ¨åˆ†è¦æ˜¾ç¤ºåœ¨æ°´å¹³çš„ä¸€è¡Œï¼Œè¿™é‡Œå…¶å®æ˜¯è¿ç”¨åˆ°äº†floatï¼Œåªè¦æŠŠä¸‰ä¸ªéƒ¨åˆ†éƒ½è®¾ç½®ä¸ºfloatï¼Œå°±å¯ä»¥å˜æˆä¸€è¡Œäº†ã€‚æ„Ÿè§‰æœ‰ç‚¹åƒæŠŠdivæ”¹æˆäº†å—å†…å…ƒç´ ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯å˜æˆäº†spanã€‚ ä¸€èˆ¬bannerçš„é“¾æ¥éƒ½æ˜¯ç”¨listæ”¹æˆæ°´å¹³ï¼Œæ”¹æˆæ°´å¹³çš„æ–¹æ³•æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯floatï¼Œå¦ä¸€ä¸ªæ˜¯display inline-block æˆ‘æƒ³è®©è¿™ä¸‰éƒ¨åˆ†ï¼Œéšç€é¡µé¢çš„æ”¹å˜ï¼Œä½ç½®ä¸è¦å®šæ­»ï¼ŒåŸæ¥margin-leftä¹‹ç±»çš„ä¹Ÿå¯ä»¥ç”¨ç™¾åˆ†æ¯”æ¥è¡¨ç¤ºï¼Œå°±å¾ˆèˆ’æœäº†ã€‚ centeræ˜¯ä¸€ä¸ªå¤§çš„bgï¼Œbgä¸Šé¢æœ‰ä¸€ä¸ªé€æ˜åº¦çš„æ–¹å½¢æ˜¾ç¤ºæ–‡å­—ï¼Œæ”¾bgçš„æ—¶å€™é‡åˆ°äº†ä»¥å‰å°±é‡åˆ°çš„é—®é¢˜ï¼Œæ¯”å¦‚é»˜è®¤æ˜¯é‡å¤çš„ï¼Œè€Œä¸”ä¸èƒ½å……æ»¡divã€‚è¿™ä¸¤ä¸ªé—®é¢˜ä»£ç å¾ˆå¥½è§£å†³ã€‚ è‡³äºé€æ˜åº¦çš„æ–¹å½¢ï¼Œå½»åº•è®©æˆ‘å¯¹positionè¿™ä¸ªå…ƒç´ æœ‰äº†ä¸€å®šçš„ç†è§£ã€‚absoluteã€fixedã€relativeåˆ†åˆ«ä»£è¡¨ä»€ä¹ˆã€‚ boxéƒ¨åˆ†æ˜¯ä¸‰ä¸ªå¡ç‰‡ï¼Œå¡ç‰‡é‡Œæœ‰å›¾ç‰‡å’Œæ–‡å­—ã€‚ä¸‰ä¸ªå¡ç‰‡å¹¶åˆ—å…¶å®ä¹ŸæŒºå¥½å†™ï¼Œå¥½åƒç”¨inline-blockå°±å¯ä»¥å®ç°ï¼Œæ°´å¹³å‚ç›´å±…ä¸­ä»€ä¹ˆçš„ä¹Ÿéƒ½æ˜¯ç°æˆçš„ï¼Œä¸è¿‡å†™å¥½äº†ä¹‹åå†çœ‹è¦æ±‚é‡Œé¢æœ‰ä¸€ä¸ªæ˜¯å¡ç‰‡çš„é«˜åº¦éšæ–‡å­—å†…å®¹è‡ªé€‚åº”ã€‚ é‚ç™¾åº¦ä¹‹ï¼Œå‘ç°ç”¨display tableå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯tableæ˜¯å æ»¡æ•´ä¸ªdivçš„ï¼Œä¸è¿‡ä¹Ÿå¥½è§£å†³ï¼Œç”¨ä¸€å¤§ä¸€å°divå°±è§£å†³äº†ã€‚ åœ†å½¢çš„å¤´åƒï¼Œè¿™ä¸ªåšèµ·æ¥ä¹Ÿå¥½ç®€å•å•Šï¼Œå›¾ç‰‡çš„radiusæ”¹ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚ introéƒ¨åˆ†å…¶å®ä¸ç”¨displayæ¥å†™ï¼Œæ¯”è¾ƒå¸¸è§„ã€‚å¦‚æœéœ€è¦å±…ä¸­ä¹‹ç±»çš„å·¥ä½œï¼Œç”¨displayæ˜æ˜¾æ˜¯è¦æ–¹ä¾¿å¾ˆå¤šçš„ã€‚ æœ€åä¸€ç‚¹ï¼Œå¦‚æœç”¨flexæ¥å¸ƒå±€ï¼Œflexé‡Œé¢çš„æ¯ä¸ªå…ƒç´ çš„å®½åº¦éƒ½æ˜¯ä»¥æœ€å®½çš„é‚£ä¸ªä¸ºæ ‡å‡†ã€‚è¿™æ—¶å€™æƒ³è¦å±…ä¸­çš„è¯å¯ä»¥è€ƒè™‘ç”¨text-align centerè§£å†³ã€‚è¿™æ˜¯æœ€åé‚£ä¸ªå°logoçš„å±…ä¸­é—®é¢˜ã€‚  Post.html åœ¨å¼€å§‹å†™post.htmlä¹‹å‰æˆ‘åœ¨GitHubä¸Šdownäº†å‡ ä¸ªå…¶ä»–äººçš„ifeä½œä¸šï¼Œç„¶åå‘ç°æˆ‘è¿™ä¸ªä»£ç çœŸçš„æ˜¯ç¨€çƒ‚â€¦æœ€åŸºæœ¬çš„æœ‰è¿™ä¹ˆå‡ ä¸ªé—®é¢˜ï¼š\n æ–‡ä»¶çš„ç»“æ„ï¼Œifeé‡Œå¼ºè°ƒäº†ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰éµå®ˆã€‚ divçš„å‘½åæ–¹å¼ã€‚navbarï¼Œnavbar-menuã€profileä¹‹ç±»çš„ classå’Œidçš„åŒºåˆ« navå’Œfooteræ˜¯htmlçš„å…ƒç´ ï¼Œå¯ä»¥ä¸ç”¨divå†™ htmlçš„åŸºæœ¬æ¡†æ¶åº”è¯¥æ˜¯navbarã€bannerã€contentã€footer  ç„¶åæˆ‘æ‰¾åˆ°äº†ä¸€ä¸ªæä½³çš„å¯¹æ¯”ä¾‹å­ã€‚å°±æ˜¯DIYgodï¼Œå½“æˆ‘çœ‹åˆ°ä»–å°±æ˜¯RSSHubçš„å‘èµ·è€…çš„æ—¶å€™ï¼Œæˆ‘æ‡µé€¼äº†ã€‚ä»–ä¹Ÿå°±å¤§æˆ‘ä¸‰å±Šè€Œå·²ï¼Œè€Œä¸”è¿˜æ˜¯æ­¦ç†çš„ï¼Œæˆ‘ç®€ç›´å¤ªèœäº†ã€‚ã€‚é…¸å½’é…¸ï¼Œçœ‹DIYgodå¤§ç¥çš„å‰ç«¯é¡µé¢ã€‚èƒ½å­¦åˆ°å¾ˆå¤šä¸œè¥¿ï¼š\n htmlçš„å…¶ä»–é»˜è®¤å…ƒç´ ï¼šheaderã€sectionã€articleã€navçš„ä½¿ç”¨ æ—¥å†å†™èµ·æ¥å…¶å®å°±æ˜¯ä¸€ä¸ªtable view tag-graphå°±æ›´ç®€å•äº†ï¼Œå­—ä½“è®¾å‡ ä¸ªä¸åŒçš„å¤§å°å°±å¯ä»¥ ä¸€ä¸ªç®€å•çš„å•è¯ï¼Œæ¢ä¸€ä¸ªå­—ä½“å°±èƒ½å˜æˆlogoä¸€èˆ¬çš„å­˜åœ¨  ç„¶åè®°å½•ä¸€ä¸‹å†™ blog.htmlçš„æ—¶å€™é‡åˆ°çš„å‘\n blogåº”è¯¥æ˜¯ä¸€ä¸ªç®€å•çš„åŒåˆ—å¸ƒå±€ã€‚åŒåˆ—å¸ƒå±€çš„å½¢å¼æœ‰å“ªäº›æ¥ç€ï¼Ÿæˆ‘æ˜¯ç”¨ç™¾åˆ†æ¯”çš„å½¢å¼æ¥å¸ƒå±€çš„ã€‚è¦æ±‚ç”¨980pxï¼Œæˆ‘ä¸å¤ªå–œæ¬¢ tableè®¾ç½®äº†å®½é«˜ä¹‹åï¼Œcellå˜å¤§ï¼Œé‚£ä¹ˆcellé‡Œé¢å­—çš„é—´è·è‡ªç„¶å°±å¤§äº† æœ‰æ—¶å€™ä¼šé‡åˆ°ç»™divé‡Œé¢å­å…ƒç´ åŠ paddingä¹‹åï¼Œdivçš„å®½åº¦å“ªæ€•è®¾å¥½äº†ï¼Œè¿˜æ˜¯ä¼šè¶…å‡ºæ¥ã€‚è¿™ä¸ªæ—¶å€™è¦è®¾ç½®ä¸€ä¸‹box-sizing=border-content aå†™åœ¨divå¤–é¢ï¼Œå°±æŠŠæ•´ä¸ªdivå˜æˆäº†é“¾æ¥ã€‚ æˆ‘ç°åœ¨ä½¿ç”¨è‡ªé€‚åº”çš„æ–¹æ³•å¤ªç®€é™‹äº†ï¼Œ@media (maxwidth=980) {.div { display=none} }  Archive.html è¿™ä¸ªé¡µé¢æˆ‘è¢«å¡ä½äº†ã€‚æœ¬æ¥ä¸€ä¸ªç€‘å¸ƒæµæˆ‘å¯ä»¥ç™¾åº¦ï¼Œç”¨flexæˆ–è€…ç”¨columnæ¥è§£å†³ï¼Œä½†æ˜¯ifeçš„ä½œä¸šçš„ç€‘å¸ƒæµé‡Œååæœ‰ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å—ï¼Œæ˜¯ä¸€ä¸ªè¿™æ ·çš„ç»“æ„\n[ + ][ ][ ]\n[ ][ ][ ][ ]\n[ ][ ][ ][ ]\nå°±æ¯”è¾ƒæ£˜æ‰‹ã€‚ä¸èƒ½ç›´æ¥ç”¨ç®€å•çš„ç€‘å¸ƒæµï¼Œæœ€åæ˜¯åˆ’æˆ3ä¸ªéƒ¨åˆ†ï¼Œ1âƒ£ï¸æ˜¯ [ + ] 2âƒ£ï¸æ˜¯å…¶ä¸‹é¢çš„éƒ¨åˆ†ï¼Œ3âƒ£ï¸æ˜¯å³è¾¹ä¸¤æ’ã€‚ç„¶åè®©2âƒ£ï¸å’Œ3âƒ£ï¸å˜æˆç€‘å¸ƒæµã€‚ç„¶åç»†ç»†ç¢ç¢çš„ä¸€äº›å¯¹é½é—®é¢˜å•Šã€å®½åº¦è®¡ç®—çš„é—®é¢˜å•Šï¼Œæµªè´¹äº†æˆ‘æŒºå¤šæ—¶é—´ã€‚\nç„¶åæ›´åŠè¯¡çš„æ˜¯ï¼Œæˆ‘è¿ä¸€ä¸ªç®€å•çš„3ä¸ªdivå¹¶æ’åœ¨ä¸€æ’éƒ½å†™ä¸å‡ºæ¥ã€‚å¥½åƒç”¨inline-blockå°±èƒ½å†™å‡ºæ¥ã€‚ä¸è¿‡æˆ‘è¿˜è¦å†æ•´ç†ä¸€ä¸‹æ€è·¯ã€‚\nAbout.html ä¸å¾—ä¸è¯´ifeä½œä¸šçš„è®¾ç½®çœŸçš„å¾ˆå¥½ï¼Œabout.htmlæš´éœ²å‡ºæ¥æˆ‘çš„å¦ä¸€ä¸ªé—®é¢˜ï¼Œå…¶å®ä»€ä¹ˆpositionçš„æˆ‘æ ¹æœ¬æ²¡æœ‰ææ¸…æ¥šï¼Œç¨å¾®å¤æ‚ä¸€ç‚¹çš„å®šä½æˆ‘å°±æä¸å®šäº†ã€‚\nrelativeå’Œabsoluteçš„ä¾æ®æ˜¯ä»€ä¹ˆï¼Ÿ å¦‚æœåŠ ä¸Šäº†flexå¸ƒå±€åˆä¼šå—ä»€ä¹ˆå½±å“ï¼Ÿ  ","id":28,"section":"posts","summary":"æˆ‘è®°å½•ä¸€ä¸‹ifeå…¶ä»–å‡ ä¸ªé¡µé¢ã€‚ä¸€å…±è¿™ä¹ˆå‡ ä¸ªé¡µé¢ index.html post.html archive.html about.html å¦‚æœè‡ªå·±å†™çš„è¯ï¼Œé™¤äº†index.htmlï¼Œå…¶ä»–å‡ ä¸ªé¡µé¢éƒ½æœ‰æˆ–å¤šå¤šå°‘çš„é—®é¢˜æˆ‘å†™ä¸å‡ºæ¥ã€‚ ä¸€","tags":["css","ife"],"title":"IFE Task0001 Log","uri":"https://zecoo.github.io/hugo/2020/03/ife-task0001-log/","year":"2020"}],"tags":[{"title":"bash","uri":"https://zecoo.github.io/hugo/tags/bash/"},{"title":"css","uri":"https://zecoo.github.io/hugo/tags/css/"},{"title":"hello-world","uri":"https://zecoo.github.io/hugo/tags/hello-world/"},{"title":"highlight","uri":"https://zecoo.github.io/hugo/tags/highlight/"},{"title":"HPA","uri":"https://zecoo.github.io/hugo/tags/hpa/"},{"title":"hugo","uri":"https://zecoo.github.io/hugo/tags/hugo/"},{"title":"ife","uri":"https://zecoo.github.io/hugo/tags/ife/"},{"title":"istio","uri":"https://zecoo.github.io/hugo/tags/istio/"},{"title":"jq","uri":"https://zecoo.github.io/hugo/tags/jq/"},{"title":"js","uri":"https://zecoo.github.io/hugo/tags/js/"},{"title":"k8s","uri":"https://zecoo.github.io/hugo/tags/k8s/"},{"title":"kubeadm","uri":"https://zecoo.github.io/hugo/tags/kubeadm/"},{"title":"kubectl","uri":"https://zecoo.github.io/hugo/tags/kubectl/"},{"title":"math","uri":"https://zecoo.github.io/hugo/tags/math/"},{"title":"mirok8s","uri":"https://zecoo.github.io/hugo/tags/mirok8s/"},{"title":"nginx","uri":"https://zecoo.github.io/hugo/tags/nginx/"},{"title":"prom","uri":"https://zecoo.github.io/hugo/tags/prom/"},{"title":"scss","uri":"https://zecoo.github.io/hugo/tags/scss/"},{"title":"server","uri":"https://zecoo.github.io/hugo/tags/server/"},{"title":"ss","uri":"https://zecoo.github.io/hugo/tags/ss/"}]}